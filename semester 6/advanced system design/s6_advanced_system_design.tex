% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  10pt,
  a4paper,
]{article}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[top=18mm,bottom=15mm,left=5mm,right=5mm]{geometry}
\ifLuaTeX
  \usepackage{luacolor}
  \usepackage[soul]{lua-ul}
\else
  \usepackage{soul}
  
\fi
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\newenvironment{Shaded}{}{}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.33,0.33}{\textbf{#1}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.42,0.45,0.49}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.36,0.77}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.01,0.18,0.38}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.42,0.45,0.49}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.42,0.45,0.49}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.36,0.77}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.36,0.77}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.42,0.45,0.49}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.33,0.33}{\underline{#1}}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{\textbf{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.36,0.77}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.44,0.26,0.76}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.01,0.18,0.38}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.42,0.45,0.49}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.14,0.16,0.18}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.14,0.16,0.18}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.44,0.26,0.76}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.84,0.23,0.29}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.42,0.45,0.49}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.36,0.77}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.01,0.18,0.38}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.01,0.18,0.38}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.89,0.38,0.04}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.01,0.18,0.38}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{1.00,0.33,0.33}{#1}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

% this merely exists to fix the loading sequence (so 'floatrow' is loaded first before 'float')
\usepackage{floatrow}
\usepackage[datesep=.]{datetime2}
\DTMsetdatestyle{ddmmyyyy}
\usepackage{enumitem}
\setlist[description]{style=nextline,parsep=5mm}
\providecommand\phantomsection{}
\usepackage{multicol}
\usepackage{tikzscale}


\usepackage{xfrac}


\DeclareRobustCommand{\textHighlight}[1]{\tikz[baseline]{\node[anchor=base,fill=Gray!10, rounded corners=5pt, draw, densely dotted] {\bfseries{#1}};}}

\makeatletter
\newcommand{\shorteq}{\mathrel{\mkern0.2mu\mathpalette\shorteq@\relax\mkern0.2mu}}
\newcommand{\shorteq@}[2]{\scalebox{0.5}[1]{$\m@th#1=$}}

\newcommand{\longeq}[1]{\mathrel{\mathpalette\longeq@{#1}}}
\newcommand{\longeq@}[2]{%
  \begingroup
  \sbox\z@{$\m@th#1=$}%
  \ifdim#2<\wd\z@
    \resizebox{#2}{\height}{\box\z@}%
  \else
    \ifdim#2<3\wd\z@
      \hbox to #2{$\m@th#1=\hss=\hss=\hss=$}%
    \else
      \hbox to #2{$\m@th#1=\cleaders\hbox to 0.2\wd\z@{\hss$#1=$\hss}\hfil=$}%
    \fi
  \fi
  \endgroup
}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Inhaltsverzeichnis}
\else
  \newcommand\contentsname{Inhaltsverzeichnis}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{Abbildungsverzeichnis}
\else
  \newcommand\listfigurename{Abbildungsverzeichnis}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{Tabellenverzeichnis}
\else
  \newcommand\listtablename{Tabellenverzeichnis}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Abbildung}
\else
  \newcommand\figurename{Abbildung}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Tabelle}
\else
  \newcommand\tablename{Tabelle}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{Listingverzeichnis}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}{}
\makeatother
\makeatletter
\@ifundefined{codebgcolor}{\definecolor{codebgcolor}{HTML}{f7f7f7}}{}
\makeatother
\makeatletter
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[boxrule=0pt, colback={codebgcolor}, enhanced, breakable, frame hidden, sharp corners]}{\end{tcolorbox}}\fi
\makeatother
\makeatletter
\@ifpackageloaded{tikz}{}{\usepackage{tikz}}
\makeatother
        \newcommand*\circled[1]{\tikz[baseline=(char.base)]{
          \node[shape=circle,draw,inner sep=1pt] (char) {{\scriptsize#1}};}}  
                  
\ifLuaTeX
\usepackage[bidi=basic]{babel}
\else
\usepackage[bidi=default]{babel}
\fi
\babelprovide[main,import]{nswissgerman}
% get rid of language-specific shorthands (see #6817):
\let\LanguageShortHands\languageshorthands
\def\languageshorthands#1{}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Advanced System Design},
  pdfauthor={Joel von Rotz},
  pdflang={de-CH},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


% [GENERAL PACKAGES] ------------------------------------------------------------------- %
% includes some neato math environments, symbols and stuff
\usepackage{amssymb, amsmath}

% correctly encodes the formatting of the text files (since we live in the future of UTF8)
\usepackage[utf8]{inputenc} 

% Used for the page counter in the footer to see the amount of pages 
\usepackage{lastpage} 

% Mostly used for the titlepage. Compared to the 'twocolumn' mode, multicols allows for
% more flexible changing (without inserting newpage between column mode changes)
\usepackage{multicol}
\setlength\columnsep{20pt}

% Package for enabling colors (colorful output)
\usepackage[dvipsnames]{xcolor}
\definecolor{colorAccent}{HTML}{124E82}

% Icons - http://mirrors.ctan.org/fonts/fontawesome5/doc/fontawesome5.pdf
% This one is neat, when you want to add some icons
\usepackage{fontawesome5}

% Depending on the type of document, mostly summaries, I remove the spacing Display-styled Equations insert, since it's a waste of space.
\usepackage[nodisplayskipstretch]{setspace}

% [FONT CONFIGURATION] ----------------------------------------------------------------- %
% change the fonts here (depending which latex engine is used, this might need to be
% removed)

\usepackage{AlegreyaSans}
\usepackage{cmbright}
\usepackage{euler}
\usepackage[scaled=0.95]{inconsolata}

% \usepackage{AlegreyaSans}
% \usepackage{cmbright}
% \usepackage[scaled=0.95]{inconsolata} % for code blocks

% [TIKZ CONFIGURATION] ----------------------------------------------------------------- %
% Tikz is really good at creating nice looking and clean drawings, diagramms, etc. 
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,arrows.meta,matrix,decorations.pathmorphing}
%\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
%            \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

% TIP: use 'TikzEdt' (http://www.tikzedt.org/) to preview the drawings.

% [HEADING/SECTION STYLE CONFIGURATION] ------------------------------------------------ %
% 'sectsty' is used for minor adjustments and is used to apply the bold sans serif style
% to all sections (sec, subsec, subsubsec, ...)
\usepackage{sectsty}
\allsectionsfont{\normalfont\bfseries\sffamily}

% 'titlesec' is used to customize the numbered and unnumbered sections styles (but can
% also be used for the other section types).
% 'xhfill' is used to add a ruler, centered to the text.
\usepackage{xhfill}
\usepackage[explicit]{titlesec}

\makeatletter
\newcommand \Cdotfill {\leavevmode\cleaders\hb@xt@.25em{\hss$\cdot$\hss}\hfill\kern\z@}
\makeatother

% NUMBERED - SECTIION
\titleformat
  {\section} % {⟨command⟩}
  [hang] % [⟨shape⟩]
  {\normalfont\LARGE\bfseries\filright\sffamily} % {⟨format⟩}
  {\thesection} % {⟨label⟩}
  {3mm} % {⟨sep⟩}
  {%
    \color{colorAccent}{#1\hspace{2mm}\xrfill[0.6ex]{1pt}}
  } % {⟨before-code⟩}

\titlespacing*{\section} % ⟨command⟩
  {0em} % ⟨left⟩
  {12pt} % ⟨before-sep⟩
  {6pt} % ⟨after-sep⟩

% NUMBERLESS - SECTION
\titleformat
  {name=\section,numberless} % {⟨command⟩}
  [hang] % [⟨shape⟩]
  {\normalfont\LARGE\bfseries\filright\sffamily} % {⟨format⟩}
  {} % {⟨label⟩}
  {0mm} % {⟨sep⟩}
  {%
    \color{colorAccent}{#1\hspace{2mm}}\xrfill[0.6ex]{1.2pt}[colorAccent]
  }% {⟨before-code⟩}

% NUMBERED - SUBSECTION
\titleformat{\subsection} % {⟨command⟩}
  [hang] % [⟨shape⟩]
  {\normalfont\Large\bfseries\filright\sffamily} % {⟨format⟩}
  {\thesection} % {⟨label⟩}
  {2mm} % {⟨sep⟩}
  {%
    {#1\hspace{1mm}\color{colorAccent}{\Cdotfill}}%
  } % {⟨before-code⟩}

% NUMBERLESS - SUBSECTION
\titleformat{name=\subsection,numberless} % {⟨command⟩}
  [hang] % [⟨shape⟩]
  {\normalfont\Large\bfseries\filright\sffamily} % {⟨format⟩}
  {} % {⟨label⟩}
  {0mm} % {⟨sep⟩}
  {%
    {#1\hspace{1mm}\color{colorAccent}{\Cdotfill}}%
  }% {⟨before-code⟩}

\titlespacing*{\subsection} % <command>
  {0em} % <left>
  {.5em} % <before-sep>
  {.4em} % <after-sep>

% NUMBERED - SUBSUBSECTION
\titleformat{\subsubsection} % {⟨command⟩}
  [hang] % [⟨shape⟩]
  {\normalfont\large\bfseries\sffamily} % {⟨format⟩}
  {\thesection} % {⟨label⟩}
  {2mm} % {⟨sep⟩}
  {
    #1%
  } % {⟨before-code⟩}

% NUMBERLESS - SUBSUBSECTION
\titleformat{name=\subsubsection,numberless} % {⟨command⟩}
  [hang] % [⟨shape⟩]
  {\normalfont\large\bfseries\sffamily} % {⟨format⟩}
  {} % {⟨label⟩}
  {0mm} % {⟨sep⟩}
  {%
    #1%
  }% {⟨before-code⟩}

% [HEADER & FOOTER CONFIGURATION] ------------------------------------------------------ %
% Most configuration is done through the quarto project yaml file (aka. '_quarto.yml').
% 
% Inside '_quarto.yml' use following structure. If one is not used, uncomment it:
%
%  fancyhdr:
%    header:
%      right: "text"
%      center: "text"
%      left: "text"
%    footer:
%      right: "text"
%      center: "text"
%      left: "text"
\usepackage{fancyhdr}
\pagestyle{fancy}

% This adds the section number to the rightmark command, which is usually used for the
% header/footer
\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\subsectionmark}[1]{}

% Adds a rules to the header and footer
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}

\fancyhf{} % clear all header and footer fields
% header
\fancyhead[R]{\sffamily Advanced System Design - Zusammenfassung}


\fancyhead[L]{\sffamily HSLU T\&A}

% header
\fancyfoot[R]{\sffamily ASYD}

\fancyfoot[C]{\sffamily \thepage~/ \pageref{LastPage}}

\fancyfoot[L]{\sffamily \DTMtoday}

% [CONDITIONS ENVIRONMENT] ------------------------------------------------------------- %
% introduces conditions environment to create nice equation parameter description
% note: the first column is already in math mode, so no $ are required.
%
% \begin{conditions}
%   A & Description about A \\
%   B & Description about B \\
%   C & Description about C
% \begin{conditions}
%
\usepackage{array}
\newenvironment{conditions}
  {\par\vspace{\abovedisplayskip}\noindent\begin{tabular}{>{$}l<{$} @{${}:{}$} l}}
  {\end{tabular}\par\vspace{\belowdisplayskip}}

\usepackage{tabularx}
\newenvironment{conditions*}
  {\par\vspace{\abovedisplayskip}\noindent
   \tabularx{\columnwidth}{>{$}l<{$} @{${}:{}$} >{\raggedright\arraybackslash}X}}
  {\endtabularx\par\vspace{\belowdisplayskip}}

% [FANCY VERBATIM] --------------------------------------------------------------------- %
% in combination with the file 'before-content.tex' inside the 'config' folder, the
% packages 'fancyvbr', 'fvextra' and 'floatrow' are used to restyle the implemented
% Verbatim/Codeblock styles to make it (personally) nicer looking and include breaklines +
% symbols
\usepackage{fancyvrb}
\definecolor{codeRuleColor}{HTML}{1a1e2e}
\definecolor{codeLineNumberColor}{HTML}{84858a}

% This reconfigures the code block to make a little nicer to look at.
% The following renewcommand 
\renewcommand{\theFancyVerbLine}{%
  \textcolor{codeLineNumberColor}{\ttfamily\scriptsize
  \arabic{FancyVerbLine}}}

\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting} % Its new name
  {Verbatim} % Based on this environment
  {
    breaklines,
    breaksymbolleft={\textcolor{gray}{\scriptsize\ensuremath\hookrightarrow}},
    commandchars=\\\{\},
    rulecolor=\color{codeRuleColor},
    xleftmargin=1mm
  }


\DeclareFloatStyle{MyListingStyle}
  {
    style=plaintop,
    captionskip=1pt
  }

% [MISC] ------------------------------------------------------------------------------- %


% -------------------------------------------------------------------------------------- %
\title{Advanced System Design}
\usepackage{etoolbox}
\makeatletter
\providecommand{\subtitle}[1]{% add subtitle to \maketitle
  \apptocmd{\@title}{\par {\large #1 \par}}{}{}
}
\makeatother
\subtitle{Zusammenfassung}
\author{Joel von Rotz}
\date{}

\begin{document}
\begin{multicols*}{2}
  
  \raggedcolumns
  
\makeatletter
\begin{center}
  \vspace*{0.5cm}
  \textbf{\textsf{\Huge Advanced System Design}}\\
  \vspace{0.1cm}
  \textsf{\textit{\large Zusammenfassung}}\\
  \vspace{0.5cm}
  \textsf{\large Joel von
Rotz \hspace{0.3cm}\textbf{/}\hspace{0.3cm}\mbox{\large \faGithub\space \href{https://github.com/joelvonrotz/BSc-electrical-engineering/tree/main/semester\%206/advanced\%20system\%20design}{Quelldateien}}}
\end{center}
\makeatother
\normalfont


% Workaround to fix some subtle things, such as caption style for code blcocks.

% changes the preset style
\floatsetup[codelisting]{style=MyListingStyle}

% include the current section number into the different caption types
\numberwithin{equation}{section}
\numberwithin{codelisting}{section}
\numberwithin{figure}{section}
\numberwithin{table}{section}

% if no code blocks are used, 'Shaded' doesn't exist!
\ifdefined\Shaded
  % redefine the Shaded environment to make the codeblock more bearable to 
  \renewenvironment{Shaded}
    {\begin{tcolorbox}[
      rounded corners,
      colback={codebgcolor},
      colframe={codebgcolor},
      enhanced,
      boxrule=0mm,
      borderline={1pt}{0pt}{gray,dotted},
      left=0mm,
      breakable,
      %title after break={Theorem \themytheorem\ Continued}, % works, but not great
      overlay first={%
          \draw[thick,gray,line width=0.5pt,decoration={zigzag,segment length=4mm, amplitude=2mm/(2*sqrt(2))},decorate]
            (frame.south west) -- (frame.south east);
      },
      overlay middle={%
          \draw[thick,gray,line width=0.5pt,decoration={zigzag,segment length=4mm, amplitude=2mm/(2*sqrt(2))},decorate]
            (frame.south west) -- (frame.south east);
          \draw[thick,gray,line width=0.5pt,decoration={zigzag,segment length=4mm, amplitude=2mm/(2*sqrt(2))},decorate]
            (frame.north west) -- (frame.north east);
      },
      overlay last={%
          \draw[thick,gray,line width=0.5pt,decoration={zigzag,segment length=4mm, amplitude=2mm/(2*sqrt(2))},decorate]
            (frame.north west) -- (frame.north east);
      }
      ]}
    {\end{tcolorbox}}
\fi

\renewcommand*\contentsname{Inhaltsverzeichnis}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{3}
\tableofcontents
}
\newpage

\section{Crypto}\label{crypto}

\includegraphics[width=7cm,height=\textheight]{images/crypto_meme.jpg}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Hinweis}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Wenn Daten Sequenzen in Blöcke geteilt werden (z.B. 64-Bit), dann wird
davon ausgegangen, dass bei unvollständigen Blöcken die restlichen Bits
mit z.B. \texttt{0} augefüllt werden.

\end{tcolorbox}

\subsection{Cesar Cipher / Substitution
Cipher}\label{cesar-cipher-substitution-cipher}

\includegraphics{images/crypto/ceaserCipher.png}

Buchstaben werden um \(x\) Positionen verschoben (z.B.
\texttt{A}\(\overset{+2}{\rightarrow}\)\texttt{C}). Nachteil ist, dass
die Entschlüsselung sehr einfach ist.

\subsection{\texorpdfstring{Enigma Maschine
\href{https://www.youtube.com/watch?v=ybkkiGtJmkM}{\color{BrickRed}\faYoutube}}{Enigma Maschine }}\label{enigma-maschine}

Die Enigma Maschine ist ein komplexes Ent- \& Verschlüsselungs System,
welches während den Weltkriegen von den Nazis hauptsächlich verwendet
wurde (und durch Alan Turing geknackt).

\includegraphics{images/crypto/enigma.pdf}

Nachjedem Tastendruck leuchtet ein Buchstabe auf und die Rotoren drehen
sich, damit der nächste gleiche Tastendruck nicht den gleichen Buchstabe
ergibt. Mit den Steckern können die Buchstaben umkonfiguriert werden
(bei Doppelstecker wird z.B. \(A\rightarrow B\) \& \(B\rightarrow A\)
und dadurch halbiert sich die Möglichkeiten zu 13).

\subsection{Stream \& Block Cipher}\label{stream-block-cipher}

\begin{center}
\includegraphics{images/crypto/block_stream_cipher.pdf}
\end{center}

\subsection{Konfusion}\label{konfusion}

Konfusion ist eine Verschlüsselungsoperation, bei der die
\textbf{Beziehung zwischen Key und Ciphertext verschleiert} wird. Ein
gängiges Element zur Erzielung von Konfusion ist heute die Substitution.

Konfusion erhöht die Mehrdeutigkeit des Ciphertextes und wird sowohl von
Block- als auch von Stream-Ciphern verwendet.

\subsection{Diffusion}\label{diffusion}

Diffusion ist eine Verschlüsselungsoperation, bei der der Einfluss eines
Klartextsymbols auf viele Ciphertext-Symbole verteilt wird, um die
statistischen Eigenschaften des Klartextes zu verbergen.

\subsection{\texorpdfstring{Feistel Network
\href{https://www.youtube.com/watch?v=FGhj3CGxl8I}{\color{BrickRed}\faYoutube}}{Feistel Network }}\label{feistel-network}

Ein Feistel Netzwerk wird zum Ver- und Entschlüsseln von Datenpaketen
verwendet. Folgend ist ein symmetrisches Feistel Netzwerk
\(\rightarrow\) Datenblock wird halbiert (64-Bit \(\rightarrow\) 2
\(\times\) 32-Bit). Eine Runde entspricht:

\[
\begin{split}
  L_n &= R_{n-1}\\
  R_n &= f(L_{n-1},k_n)
\end{split}
\]

\begin{center}
\includegraphics[width=4cm,height=\textheight]{images/crypto/feistel_network.pdf}
\end{center}

Funktion \(f\) ist \textbf{wichtig}. Wenn diese sicher gegen Attacken
ist, dann wird das Feistel Netzwerk mit jeder Runde und Key-Segment
sicherer!

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Ver- \& Entschlüsseln}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Verschlüsselte Informationen können mit dem genau gleichen Ablauf wieder
entschlüsselt werden.

\end{tcolorbox}

\subsection{\texorpdfstring{DES
\href{https://www.youtube.com/watch?v=3BZRBfhpIb0}{\color{BrickRed}\faYoutube}}{DES }}\label{des}

\textbf{D}ata \textbf{E}ncryption \textbf{S}tandard ist ein Cipher, der
64 Bit lange Blöcke mit einem 56 Bit langen Schlüssel verschlüsselt.

\begin{center}
\includegraphics{images/crypto/des.pdf}
\end{center}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Data \(x\) wird mit einer \emph{Initial Permutation} transponiert
  (\textbf{Diffusion})
\item
  Diffusierte Data wird wird im Feistel Netzwerk \textbf{16×}
  verschlüsselt
\item
  Die verschlüsselte Data wird mit einer \emph{Final Permutation} wieder
  transponiert (\textbf{Diffusion})
\end{enumerate}

\begin{center}
\includegraphics{images/crypto/des_detailed.pdf}
\end{center}

\subsubsection{Initial \& Final
Permutation}\label{initial-final-permutation}

Vor und nach dem Feistel Netzwerk werden die Blöcke bitweise permutiert,
also wie kreuzverdrahtet (Enigma Steckerbrett) \(\rightarrow\) Bit
\textbf{Diffusion}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Hinweis}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Diese Permutationen sind in Hardware einfacher implementierbar als in
der Software.

\end{tcolorbox}

\subsubsection{\texorpdfstring{\(f\)-Funktion}{f-Funktion}}\label{f-funktion}

Die \(f\)-Funktion vom DES ist das Herz des Algorithmus.

\begin{center}
\includegraphics{images/crypto/des_ffunction.pdf}
\end{center}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Das Datenbyte \(R_{i-1}\) wird mit expandiert (Doppelzuweisung) um auf
  48 Bit zu kommen\ldots{}
\item
  \ldots danach wird dies mit dem Key ver\textbf{xor}t und\ldots{}
\item
  \ldots mit der jeweiligen Substitutationsbox (LUT) \(S_x\)
  verarbeitet.
\item
  Schlussendlich
\end{enumerate}

\subsubsection{\texorpdfstring{Expansion
\(E\)}{Expansion E}}\label{expansion-e}

Expansion \(E\) ist eine spezielle Permutationsfunktion. Die Expansion
wird von 32-Bits zu 48-Bits \emph{expandiert}.

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/crypto/expansion_function.png}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Wichtig}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

16-Bit der 32 Input-Bits kommen doppelt vor. \textbf{ABER} ein Input-Bit
kommt \textbf{nicht} zweimal vor im selben 6-Bit Block \(\rightarrow\)
Diffusion wird verbessert, da gewisse Input-Bits zweimal vorkommen.

\end{tcolorbox}

\subsubsection{\texorpdfstring{Key Scheduling Transform
\(X\)}{Key Scheduling Transform X}}\label{key-scheduling-transform-x}

Der \emph{Key Scheduler} generiert 16 Subkeys \(k_i\) vom Hauptkey
\(k\).

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Der Key wird in \(PC-1\) auf 56-Bits gekürzt. Die \emph{Parity} Bits
  8, 16, 24, 32, 40, 48, 56 \& 64 werden entfernt \(\rightarrow\)
  sinnlose Bits
\end{enumerate}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/crypto/initial_key_permutation.png}
\end{center}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\item
  In Runden \(i=1,2,9,16\) wird \(C_n\) \textbf{ein} Bit nach links
  geshiftet, ansonsten \textbf{zwei} Bits.
\item
  In \(PC-2\) werden erneut 8 Bits verworfen \(\rightarrow\) 48 Bit
  Subkey \(k_i\)
\end{enumerate}

\begin{center}
\includegraphics{images/crypto/keyscheduler.pdf}
\end{center}

\subsubsection{Das Coole}\label{das-coole}

Der Cipher kann mit dem gleichen System wieder entschlüsselt werden. DES
verwendet als Grundelement das Feistel Netzwerk, welches diese
Eigenschaft hat.

\subsubsection{Das Problem}\label{das-problem}

DES ist wegen der kleinen 56 Bit Key nicht sicher (Fall: 1993 \& 2008
Brute Force), was ja auch nid so doll is'. Ein Ansatz dafür ist den Key
auf 112 Bits zu erweitern durch \textbf{triple DES}
(\(\text{DES}(k_1)+\text{DES}^{-1}(k_2)+\text{DES}(k_2)\)).

\subsection{\texorpdfstring{TEA
\href{https://www.youtube.com/watch?v=aR29pnuJ6fQ}{\color{BrickRed}\faYoutube}}{TEA }}\label{tea}

\textbf{T}iny \textbf{E}ncryption \textbf{A}lgorithm ist ein bereits
geknackter und daher auch einfacher Verschlüsselungsalgorithmus. Er
verwendet ein \emph{Feistel Network}, 64 Bit Datenblöcke und einen 128
Bit Key. Es werden 32 Runden gemacht, damit die Informationen mehr
verschlüsselt werden. \ul{Er erfordert sehr wenig Rechenleistung}.

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/crypto/TEA_InfoBox_Diagram.png}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{(Fast) kein Feistel Netzwerk}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Die verschlüsselten Blöcke können nicht so einfach wieder entschlüsselt,
da im Algorithmus nebst XOR noch Additionen stattfinden. Für die
Entschlüsselung werden die \textbf{Addition rückgängig} mit
Subtraktionen gemacht.

\end{tcolorbox}

\subsection{XTEA}\label{xtea}

e\textbf{X}tended \textbf{TEA} ist eine Erweiterung von TEA, welcher die
Verschlüsselung besser macht. Gleiche Eigenschaften + Konstantwert
\texttt{delta=0x9E3779B9}.

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/crypto/XTEA_InfoBox_Diagram.png}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{XTEA sicher?}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

XTEA ist ein sicherer Verschlüsselungsalgorithmus, wenn auch nicht so
sicher wie RSA oder andere.

\end{tcolorbox}

\subsection{Advanced Encryption Standard
(AES)}\label{advanced-encryption-standard-aes}

Die US National Institute of Standards and Technology (NIST) hat in 1977
neuen \emph{Advanced Encryption Standard} (AES) präsentiert und
verschiedene Blockcipher wurden evaluiert. \emph{Rijndael} `gewann' die
Runden in 2001 und wurde zu AES umbenannt.

AES ist ein Byte-orientierter Cipher!

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Anforderungen \& Kandidaten}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\textbf{Anforderungen} - block cipher with 128 bit block size - three
key lengths must be supported: 128, 192 and 256 bit - security relative
to other submitted algorithms - efficiency in software and hardware

\textbf{Kandidaten} - \emph{Mars} by IBM Corporation - \emph{RC6} by RSA
Laboratories - \emph{Rijndael}, by Joan Daemen and Vincent Rijmen -
\emph{Serpent}, by Ross Anderson, Eli Biham and Lars Knudsen -
\emph{Twofish}, by Bruce Schneier, John Kelsey, Doug Whiting, David
Wagner, Chris Hall and Niels Ferguson

\end{tcolorbox}

\begin{center}
\includegraphics[width=\textwidth,height=4cm]{images/crypto/image-8.png}
\end{center}

{\footnotesize $k_{128b  }\rightarrow n_r=10\text{ rounds}\quad k_{192b  }\rightarrow 12\quad k_{256b  }\rightarrow 14$}

\includegraphics{images/crypto/image-9.png}

\includegraphics{images/crypto/image-10.png}

\begin{description}
\tightlist
\item[Key Addition Layer]
Ein 128b \emph{Round}-Key/Subkey (vom Hauptkey) wird in das Datenpaket
ge\textbf{xor}ed (Key Whitening)
\item[Byte Substitution layer (S-Box)]
Eine Nichtlineare Datentransformation (Konfusion)
\item[Diffusion layer]
Wendet Diffusion an alle Bits an auf zwei Sublayers an. \circled{1}
\emph{ShiftRows} Layer verändert die Daten auf Byte-Ebene. \circled{2}
\emph{MixColumn} Layer kombiniert/vermischt 4-Byte-Blöcke via Matrix
Operationen.
\end{description}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-warning-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-warning-color}{\faExclamationTriangle}\hspace{0.5em}{Warnung}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-warning-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Letzte Runde macht \textbf{keinen} MixColumn!

\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Eine AES Runde für Runden \(1,2,...,n_r\)}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\includegraphics{images/crypto/image-15.png}

Für die Byte Substitution wird folgende S-Box verwendet:

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/crypto/image-16.png}
\end{center}

\emph{Shiftrows} basiert auf folgendem Verschiebungsmuster.

\includegraphics{images/crypto/shiftrow.pdf}

\emph{MixColumns} wird mit folgender Matrix-Multiplikation gemacht.
Analog kann diese Operation auf die anderen Byte-Gruppen gleich
angewendet werden.

\[
\begin{bmatrix}
C_0\\ C_1\\ C_2 \\ C_3
\end{bmatrix}=\begin{bmatrix}
\mathtt{02} & \mathtt{03} & \mathtt{01} & \mathtt{01}\\
\mathtt{01} & \mathtt{02} & \mathtt{03} & \mathtt{01}\\
\mathtt{01} & \mathtt{01} & \mathtt{02} & \mathtt{03}\\
\mathtt{03} & \mathtt{01} & \mathtt{01} & \mathtt{02}
\end{bmatrix}\cdot\begin{bmatrix}
B_0\\ B_{5}\\ B_{10} \\ B_{15}
\end{bmatrix}
\]

\(\mathtt{01},\mathtt{02},\mathtt{03}\) sind Representationen eines
Elements von \(GF(2^8)\). \textbf{Addition} wird mit XOR Operationen
gemacht (1+1+1=1 - ohne Carry!). \textbf{Multiplikation} wird mit
Polynom Multiplikation gemacht (\circled{1} Polynom Multiplikation
\circled{2} Modulo Operation).

Beispiel mit Input \(\mathtt{25_h,25_h,25_h,25_h}\)

\begin{center}
\includegraphics[width=\textwidth,height=2.5cm]{images/crypto/image-17.png}
\end{center}

\end{tcolorbox}

\subsubsection{Key Scheduler / Subkey
Generierung}\label{key-scheduler-subkey-generierung}

\includegraphics{images/crypto/image-11.png}

Wie in der Abbildung zu sehen ist, wird das ganz linke \emph{Word} eines
Subkeys \(W[4i]\), wobei \(i = 1,\ldots,10\) ist, wird berechnet als:

\[
W[4i] = W[4(i-1)]+g(W[4i-1])
\]

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{g-Funktion}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Die \(g\)-Funktion hat zwei Aufgaben. Erstens wird
\textbf{Nichtlinearität} zum Key Scheduler hinzugefügt. Zweitens wird
die \textbf{Symmetrie} weggenommen. Beides ist nötig um Block Cipher
Attacken zu verhindern.

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/crypto/image-12.png}
\end{center}

Die \(g\)-Funktion rotiert die vier input bytes, führt eine byte-weise
S-Box substitution und fügt einen Runden-Koeffizient \(RC\) dazu. Der
Runden-Koeffizient ist ein Element vom Galois field \(GF(2^8)\) und wird
nur am Byte ganz links dazugefügt. Die Koeffizienten variieren von Runde
zu Runde mit folgender Regel:

\[
\begin{split}
RC[~] = [&(\mathtt{0{\times}01})_{16},(\mathtt{0{\times}02})_{16},(\mathtt{0{\times}04})_{16},(\mathtt{0{\times}08})_{16},(\mathtt{0{\times}10})_{16},\\
         &(\mathtt{0{\times}20})_{16},(\mathtt{0{\times}40})_{16},(\mathtt{0{\times}80})_{16},(\mathtt{0{\times}1B})_{16},(\mathtt{0{\times}36})_{16}]
\end{split}
\]

\end{tcolorbox}

\subsubsection{Entschlüsselung}\label{entschluxfcsselung}

Da AES keine Feistel Netzwerke besitzt, müssen alle Layers invertiert
werden, also schrittweise alles Rückwärts machen. Für die
Entschlüsselung wird mit angefangen \(k_{10}\) (bei 128b) verwendet,
dann \(k_9\), \(\ldots\).

\includegraphics{images/crypto/image-13.png}

\includegraphics{images/crypto/image-14.png}

Bei der Verschlüsselung wird zuletzt der MixColumn \textbf{nicht}
ausgeführt und ist somit analog daselbe bei der Entschlüsselung einfach
am Anfang!

\paragraph{Round funktion}\label{round-funktion}

Die Sublayers werden ebenfalls verkehrt abgelaufen! Die Inverse der
MixColumn Sublayer verläuft auf dem gleichen GF-Prinzip, wiederum
einfach umgekehrt.

\includegraphics{images/crypto/image-18.png}

\[
\begin{bmatrix}
B_0\\ B_1\\ B_2 \\ B_3
\end{bmatrix}=\begin{bmatrix}
\mathtt{0E} & \mathtt{0B} & \mathtt{0D} & \mathtt{09}\\
\mathtt{09} & \mathtt{0E} & \mathtt{0B} & \mathtt{0D}\\
\mathtt{0D} & \mathtt{09} & \mathtt{0E} & \mathtt{0B}\\
\mathtt{0B} & \mathtt{0D} & \mathtt{09} & \mathtt{0E}
\end{bmatrix}\cdot\begin{bmatrix}
C_0\\ C_{1}\\ C_{2} \\ C_{3}
\end{bmatrix}
\]

\includegraphics{images/crypto/invshiftrow.pdf}

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/crypto/invsbox.png}
\end{center}

\subsection{\texorpdfstring{Cipher Modi
\href{https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\#CTR}{\faWikipediaW}}{Cipher Modi }}\label{cipher-modi}

\subsubsection{Electronic Code Book
(ECB)}\label{electronic-code-book-ecb}

Jeder Block wird separat verschlüsselt.

\includegraphics{images/crypto/image.png}

{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] No block synchronization required
  \item[\color{OliveGreen}\faPlus] Bit errors only affect the corresponding block
  \item[\color{OliveGreen}\faPlus] Block cipher operating can be \textbf{parallelized}
  \item[\color{BrickRed}\faMinus] Plaintext blocks are encrypted independently of previous blocks
  \item[\color{BrickRed}\faMinus] Identical plaintexts result in identical ciphertexts $\rightarrow$ double sending is detectable
  \item[\color{BrickRed}\faMinus] An attacker may reorder or exchange ciphertext blocks $\rightarrow$ \textbf{Man in the middle attack}
\end{description}}

\subsubsection{Cipher Block Chaining
(CBC)}\label{cipher-block-chaining-cbc}

\includegraphics{images/crypto/image-1.png}

\(X_1\) wird by einem öffentlich(!) Initialvektor \(IV\) (auch
\emph{nonce} \(IV\) genannt). Alle weiteren Pakete werden mit dem
vorherigen Paket verschlüsselt!

{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] Ciphertext $y_1$ depends on plaintext $x_1$, the key and the $IV$
  \item[\color{OliveGreen}\faPlus] Ciphertext $y_i$ depends on \textbf{all} previous plaintext blocks (and $k$, $IV$)
  \item[\color{BrickRed}\faMinus] No parallelization possible
  \item[\color{BrickRed}\faMinus] A transmission error destroys \textbf{all} following information
\end{description}}

\subsubsection{Output Feedback (OFB)}\label{output-feedback-ofb}

\includegraphics{images/crypto/image-2.png}

Block Cipher zu synchronem Stream Cipher (\textbf{synchron}: Key stream
\(S_i\) ist nicht vom Cipher selbst abhängig und somit kann der Key
Stream komplett vorgerechnet werden).

{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] Ciphertext $y_1$ depends on plaintext $x_1$, $k$ and the nonce $IV$
  \item[\color{OliveGreen}\faPlus] Encryption and decryption is exactly the same operation
  \item[\color{OliveGreen}\faPlus] Very fast, $S_i$ can be precomputed
  \item[\color{BrickRed}\faMinus] Ciphertext $y_i$ only depends on plaintext $x_i$, $k$ (not on previous plaintexts)
\end{description}}

\subsubsection{Cipher Feedback (CFB)}\label{cipher-feedback-cfb}

\includegraphics{images/crypto/image-3.png}

Block Cipher zu \textbf{a}synchronem Stream Cipher (\textbf{asynchron}:
Key stream \(S_i\) ist vom Cipher abhängig und ist daher eher langsamer
im Vergleich zu OFB).

{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] Ciphertext $y_i$ depends on all previous plaintext blocks (and $k$, $IV$)
  \item[\color{BrickRed}\faMinus] No parallelization possible
\end{description}}

\subsubsection{Counter (CTR)}\label{counter-ctr}

Block Cipher zu synchronem Stream Cipher. \(IV\) wird zusammen mit einem
Counter zur Key Stream generierung verwendet, was eine Vorberechnung des
gesamten Streams erlaubt.

\begin{center}
\includegraphics[width=\textwidth,height=4cm]{images/crypto/image-4.png}
\end{center}

{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] Parallelization is possible (no dependance of previous cypher)!
  \item[\color{OliveGreen}\faPlus]  Very fast, can be precomputed
  \item[\color{BrickRed}\faMinus] Ciphertext 
  $y_i$ only depends on plaintext $x_i$, $k$
\end{description}}

\subsubsection{Galois Counter Mode (GCM)}\label{galois-counter-mode-gcm}

\includegraphics{images/crypto/image-5.png}

Fügt \textbf{message authentication \& integrity} als CTR-Erweiterung
ein. Alle Multiplikationen werden mit dem 128-Bit Galois Feld
\(GF(2^128)\) und dem irreduziblen Polynom
\(P(x) = x^{128} +x^7 +x^2 +x+1\) gemacht.

{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] 
  \item[\color{BrickRed}\faMinus] 
\end{description}}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{message authentication \& integrity?}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\begin{description}
\tightlist
\item[\ldots authentication]
Bob kann prüfen, ob Alice wirklich die Nachricht gesendet hat.
\item[\ldots integrity]
Bob kann prüfen, dass niemand den Ciphertext während der Übertragung
manipuliert hat.
\end{description}

\end{tcolorbox}

\subsection{Double Encrpytion \& Meet-In-The-Middle Attack
(MITM)}\label{double-encrpytion-meet-in-the-middle-attack-mitm}

\includegraphics{images/crypto/image-6.png}

\emph{Double Encryption} wird der Plaintext \(x\) zuerst mit \(k_L\)
verschlüsselt und dann mit \(k_R\) folgend entschlüsselt \(\rightarrow\)
Ciphertext \(y\).

\emph{Meet-In-The-Middle Attack}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Table Computation} Linke Seite wird via \emph{Brute-Force} den
  Key \(k_L\) ermittelt und daraus ein Lookup Table mit \(2^k\)
  Einträgen erstellt.
\item
  \textbf{Key Matching} Via \emph{Decryption-Brute-Force} wird die
  Rechte Seite entschlüsselt und \(z_{R,j}\) mit dem entsprechenden
  Werte von \(z_{L,i}\) im Lookuptable verglichen.
\end{enumerate}

Dies reduziert die Komplexizität von \(2^{2k}\) zu \(2^{k+1}\)
Suchoperationen.

\subsection{Triple Encrpytion}\label{triple-encrpytion}

\includegraphics{images/crypto/image-7.png}

Der Plaintext wird \emph{encrypted-decrypted-encrypted} (EDE) mit drei
verschiedenen Keys. Bei einer Key-Grösse von 56-Bits (168-Bit Key
komplett) verlängert sich der Aufwand zurück zu \(2^{2k}\) Operationen.

\[
y=e_{k1}(e_{k2}^{-1}(e_{k3}(x)))
\]

Der MITM-Angriff reduziert die \ul{effektive} Keygrösse von
\(3\cdot56=168\) zu 112 Bits.

\subsection{Key Whitening}\label{key-whitening}

\begin{center}
\includegraphics{images/crypto/keywhitening.pdf}
\end{center}

Damit wird DES resistenter gegenüber Brute-Force-Attacken gemacht. Zwei
Whitening Keys \(k_1\) \& \(k_2\) werden verwendet. Zum Beispiel DESX
verwendet Key Whitening.

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-warning-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-warning-color}{\faExclamationTriangle}\hspace{0.5em}{Warnung}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-warning-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Schützt den Blockcipher nicht vor \textbf{analytischen} Angriffen wie
lineare oder differentiale Kryptoanalyse. Daher ist dieser nutzlos bei
schwachen Cipher.

\end{tcolorbox}

\subsection{Asymmetrische
Kryptographie}\label{asymmetrische-kryptographie}

\subsubsection{Key Distribution Problem}\label{key-distribution-problem}

Das Problem der symmetrischen Kryptographie ist, dass jeder Teilnehmer
eines Kommunikationsnetzwerkes über die Schlüssel aller anderen
Teilnehmer verfügen muss.

\[
\#_{keys}(n_{user})=n_{user}\cdot\frac{n_{user}-1}{2}\text{ Key Paare}
\]

\begin{center}
\includegraphics{images/crypto/keyprob.pdf}
\end{center}

\subsubsection{\texorpdfstring{Public Key Cryptography
\href{https://www.youtube.com/watch?v=GSIDS_lvRv4}{\color{BrickRed}\faYoutube}}{Public Key Cryptography }}\label{public-key-cryptography}

\begin{itemize}
\tightlist
\item
  Key besteht aus \textbf{public} und \textbf{private} Teile.

  \begin{itemize}
  \tightlist
  \item
    \textbf{private}: wird zur \textbf{Ent}schlüsselung verwendet
  \item
    \textbf{public}: wird zur \textbf{Ver}schlüsselung verwendet
  \end{itemize}
\item
  Löst das Key Distribution System! \textbf{Aber} ist sehr
  Rechenintensiv!
\end{itemize}

\begin{center}
\includegraphics{images/crypto/asyncrypto.pdf}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-caution-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-caution-color}{\faFire}\hspace{0.5em}{Man-In-The-Middle Attack
\href{https://www.youtube.com/watch?v=vsXMMT2CqqE}{\color{BrickRed}\faYoutube}}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-caution-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\begin{center}
\includegraphics{images/crypto/diffie_problem.pdf}
\end{center}

Sean (oder Mallory) fängt den Key (\texttt{ga}, \texttt{gb}) Austausch
zwischen Alice \& Bob ab und antwortet beidseitig mit dem eigenen Key
(\texttt{s}\(\rightarrow\)\texttt{gas}, \texttt{gab}). Damit kann Sean
jegliche Nachrichten lesen und verändern, ohne dass es Alice \& Bob
merken.

\end{tcolorbox}

\subsubsection{\texorpdfstring{Diffie Hellman
\href{https://www.youtube.com/watch?v=NmM9HA2MQGI}{\color{BrickRed}\faYoutube\({}_1\)},
\href{https://www.youtube.com/watch?v=Yjrfm_oRO0w}{\color{BrickRed}\faYoutube\({}_2\)}}{Diffie Hellman \{\}\_1, \{\}\_2}}\label{diffie-hellman-_1-_2}

\begin{center}
\includegraphics{images/crypto/diffie.pdf}
\end{center}

\textbf{Vorbereitung}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Wählen einer \textbf{grossen} Primzahl
  \({\color{OliveGreen}\mathbf{p}}\)
\item
  Wählen einer \textbf{grossen} Ganzzahl
  \({\color{OliveGreen}\mathbf{g}}\in(2,3,\ldots,n-2)\)
\item
  \({\color{OliveGreen}\mathbf{p}}\) \&
  \({\color{OliveGreen}\mathbf{g}}\) veröffentlichen
\end{enumerate}

\textbf{Ausführung}:

{\small\begin{description}[parsep=2mm,labelsep=2pt,labelwidth=8pt]
  \item[\textbf{Alice}] \circled{1} Wählen eines zufälligen {\color{BrickRed}\textbf{private}} Key ${\color{BrickRed}\mathbf{a}}$ \\
                        \circled{2} {\color{OliveGreen}\textbf{Public}} Key berechnen: ${\color{OliveGreen}\mathbf{k_{A}}}={\color{OliveGreen}\mathbf{g}}^{\color{BrickRed}\mathbf{a}}~\text{mod}~{\color{OliveGreen}\mathbf{p}}$ \\
                        \circled{3} Key ${\color{OliveGreen}\mathbf{k_{A}}}$ veröffentlichen
  \item[\textbf{Bob}] \circled{1} Wählen eines zufälligen {\color{BrickRed}\textbf{private}} Key ${\color{BrickRed}\mathbf{b}}$ \\ \circled{2} {\color{OliveGreen}\textbf{Public}} Key berechnen: ${\color{OliveGreen}\mathbf{k_{B}}}={\color{OliveGreen}\mathbf{g}}^{\color{BrickRed}\mathbf{b}}~\text{mod}~{\color{OliveGreen}\mathbf{p}}$ \\ \circled{3} Key ${\color{OliveGreen}\mathbf{k_{B}}}$ veröffentlichen
  \item[\textbf{Alice}] Session Key berechnen: ${\color{BrickRed}\mathbf{k_{AB}}}={\color{OliveGreen}\mathbf{k_{B}}}^{\color{BrickRed}\mathbf{a}}~\text{mod}~ {{\color{OliveGreen}\mathbf{p}}}={\color{OliveGreen}\mathbf{g}}^{\color{BrickRed}\mathbf{ab}}~\text{mod}~ {{\color{OliveGreen}\mathbf{p}}}$
  \item[\textbf{Bob}] Session Key berechnen: ${\color{BrickRed}\mathbf{k_{AB}}}={\color{OliveGreen}\mathbf{k_{A}}}^{\color{BrickRed}\mathbf{b}}~\text{mod}~ {{\color{OliveGreen}\mathbf{p}}}={\color{OliveGreen}\mathbf{g}}^{\color{BrickRed}\mathbf{ab}}~\text{mod}~ {{\color{OliveGreen}\mathbf{p}}}$
\end{description}}

Um die Verschlüsselung zu knacken, müsste Oskar (the bad guy)
`\(g^a ~\text{mod}~ n = k_A\)' oder `\(g^b~\text{mod}~ n = k_B\)'
faktorisieren.

\begin{center}
\includegraphics[width=\textwidth,height=2cm]{images/crypto/image-19.png}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, rightrule=.15mm, colback=white, colframe=quarto-callout-tip-color-frame, breakable, leftrule=.75mm, bottomrule=.15mm, toprule=.15mm, arc=.35mm, opacityback=0, left=2mm]
\begin{minipage}[t]{5.5mm}
\textcolor{quarto-callout-tip-color}{\faLightbulb}
\end{minipage}%
\begin{minipage}[t]{\textwidth - 5.5mm}

\vspace{-3mm}\textbf{Beispiel}\vspace{3mm}

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/crypto/image-20.png}
\end{center}

\textbf{!!!} Jedes weitere bit in \(p\) verdoppelt den nötigen Aufwand
um einen Private Key zu finden \textbf{!!!}

\end{minipage}%
\end{tcolorbox}

\subsubsection{Elgamal Encryption
Scheme}\label{elgamal-encryption-scheme}

Erweiterung von DHKE \(\rightarrow\) Ähnlicher Ablauf wie bei DHKE,
einfach wird ein neuen private Key für jeden Block generiert! Dies
\textbf{verdoppelt} die Sende-Bandbreite, dafür können die Schlüssel
vorgerechnet werden (Im Beispiel auf Alice bezogen)!

\begin{center}
\includegraphics[width=8cm,height=\textheight]{images/crypto/image-21.png}
\end{center}

\subsubsection{RSA}\label{rsa}

\textbf{Vorbereitung}:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Zwei grosse} Primzahlen \({\color{BrickRed}\mathbf{p}}\),
  \({\color{BrickRed}\mathbf{q}}\)
\item
  Berechne den {\color{OliveGreen}\text{public}} Wert
  \({\color{OliveGreen}\mathbf{n}}={\color{BrickRed}\mathbf{p}}\cdot {\color{BrickRed}\mathbf{q}}\)
  (one way \emph{trapdoor} function)
\item
  Berechne
  \({\color{BrickRed}\varphi} ({\color{OliveGreen}\mathbf{n}})=({\color{BrickRed}\mathbf{p}}-1)\cdot({\color{BrickRed}\mathbf{q}}-1)\)
\item
  Wählen des {\color{OliveGreen}\text{public}} Exponenten
  \({\color{OliveGreen}\mathbf{e}}\in\{1,2,\ldots,{\color{BrickRed}\varphi}({\color{OliveGreen}\mathbf{n}})-1\}\)
  sodass
  \(\text{gcd}({\color{OliveGreen}\mathbf{e}},{\color{BrickRed}\varphi}({\color{OliveGreen}\mathbf{n}}))=1\)
  (greatest common divisor)
\item
  {\color{OliveGreen}\text{private}} Key
  \({\color{BrickRed}\mathbf{d}}\) sodass
  \(({\color{BrickRed}\mathbf{d}}\cdot {\color{OliveGreen}\mathbf{e}})~\text{mod}~ {\color{BrickRed}\varphi}({\color{OliveGreen}\mathbf{n}})=1\)
  gilt
\end{enumerate}

\textbf{Ausführung}:

{\small\begin{description}[parsep=2mm,labelsep=2pt,labelwidth=8pt]
  \item[\textbf{Alice}] Verschlüsselt $y=x^{\color{OliveGreen}\mathbf{e}}~\text{mod}~{\color{OliveGreen}\mathbf{n}}$
  \item[\textbf{Bob}] Verschlüsselt $x=y^{\color{BrickRed}\mathbf{d}}~\text{mod}~{\color{OliveGreen}\mathbf{n}}$
  \item[\textbf{Oskar}] Muss Faktor ${\color{OliveGreen}\mathbf{n}}$ aufwenden, um ${\color{BrickRed}\mathbf{d}}$ zu erhalten
\end{description}}

\begin{tcolorbox}[enhanced jigsaw, rightrule=.15mm, colback=white, colframe=quarto-callout-tip-color-frame, breakable, leftrule=.75mm, bottomrule=.15mm, toprule=.15mm, arc=.35mm, opacityback=0, left=2mm]
\begin{minipage}[t]{5.5mm}
\textcolor{quarto-callout-tip-color}{\faLightbulb}
\end{minipage}%
\begin{minipage}[t]{\textwidth - 5.5mm}

\vspace{-3mm}\textbf{Beispiel}\vspace{3mm}

\begin{center}
\includegraphics[width=8cm,height=\textheight]{images/crypto/image-22.png}
\end{center}

\end{minipage}%
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Side Channel Attacks}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Ein \emph{Side Channel Attack} oder Seitenkanalangriff ist eine
Sicherheitslücke, die darauf abzielt, Informationen von einem System zu
sammeln oder die Programmausführung eines Systems zu beeinflussen, indem
indirekte Effekte des Systems oder seiner Hardware gemessen oder
ausgenutzt werden, anstatt das Programm oder seinen Code direkt
anzugreifen.

\end{tcolorbox}

\subsubsection{Eliptic-Curve-Cryptography
(ECC)}\label{eliptic-curve-cryptography-ecc}

Die Eliptic-Curve-Cryptography ist einer vieler Ansätze, um einen Public
Key zu generieren. Dieser Ansatz verwendet die Struktur einer
eliptischen Kurve, um anhand `Ketten-Schnittpunkten' einen möglichst
lange Kette abzulaufen. Das Endprodukt dabei ist ein kürzerer Key,
welcher aber gleichwertige Sicherheit im Vergleich zu
Nicht-ECC-Verfahren bietet.

\paragraph{\texorpdfstring{Addition
\(P \neq Q\)}{Addition P \textbackslash neq Q}}\label{addition-p-neq-q}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/crypto/image-25.png}
\end{center}

\[
\begin{split}
R(x_3,y_3) &= P(x_1,y_1) + Q(x_2,y_2) \\
\text{slope } s &= (y_2-y_1)/(x_2-x_1) ~\text{mod}~ p \\
x_3 &= s^2-x_1-x_2 ~\text{mod}~ p \\
y_3 &= s\cdot(x_1-x_3)-y_1 ~\text{mod}~ p \\
\end{split}
\]

\begin{itemize}
\tightlist
\item
  Linie \(PQ\) schneidet die Ellipse \(E\) an einem dritten Punkt
  \(R'\).
\item
  \(R=P+Q ~\rightarrow\) is die Inverse von \(R’\) (gespiegelt an der
  X-Achse)
\end{itemize}

\paragraph{\texorpdfstring{Addition
\(P = Q\)}{Addition P = Q}}\label{addition-p-q}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/crypto/image-23.png}
\end{center}

\[
\begin{split}
R(x_3,y_3) &= P(x_1,y_1) + P(x_1,y_1)\\
s &= \text{tangent} = (3\cdot x_1^2+a)/(2\cdot y_1) ~\text{mod}~ p\\
x_3 &= s^2-x_1-x_2 ~\text{mod}~ p \quad\qquad {\small\text{wie bei } P\neq Q}\\
y_3 &= s\cdot (x_1-x_3)-y_1 ~\text{mod}~ p \quad {\small\text{wie bei } P\neq Q}\\
\end{split}
\]

\subsubsection{Eliptic-Curve Diffie-Hellmann Key Exchange
(ECDH)}\label{eliptic-curve-diffie-hellmann-key-exchange-ecdh}

\includegraphics{images/crypto/image-24.png}

\subsection{Security Services}\label{security-services}

\emph{auf English, da ich keine Lust aufs übersetzen habe} :-)

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Confidentiality}: Information is kept secret from all but
  authorized parties
\item
  \textbf{Integrity}: Ensures that a message has not been modified in
  transit
\item
  \textbf{Message authentication}: Ensures that the sender of a message
  is authentic (An alternative term is data origin authentication)
\item
  \textbf{Non-repudiation}: Ensures that the sender of a message can not
  deny to be the creation of the message. (e.g.~order of a pink car)
\item
  \textbf{Identification/entity authentication}: Establishing and
  verification of the identity of an entity, e.g.~a person, a computer,
  or a credit card
\item
  \textbf{Access control}: Restricting access to the resources to
  privileged entities
\item
  \textbf{Availability}: The electronic system is reliably available
\item
  \textbf{Auditing}: Provides evidences about security relevant
  activities, e.g., by keeping logs about certain events
\item
  \textbf{Physical security}: Providing protection against physical
  tampering and/or responses to physical tampering attempts
\item
  \textbf{Anonymity}: Providing protection against discovery and misuse
  of identity
\end{enumerate}

\subsection{RSA Signature Scheme}\label{rsa-signature-scheme}

Die Schlüssel anhand RSA generieren!

{\small\begin{description}[parsep=2mm,labelsep=2pt,labelwidth=8pt]
  \item[\textbf{Bob} erzeugt die Signatur] "Verschlüsselt" die Nachricht ${\color{OliveGreen}\textbf{x}}$ **mit** dem **private Key** ${\color{BrickRed}\mathbf{d}}$ \\
                    ${\color{OliveGreen}\mathbf{s}}=\text{sign}_{\color{BrickRed}K_{Priv}}({\color{OliveGreen}\textbf{x}})={\color{OliveGreen}\textbf{x}}^{\color{BrickRed}\textbf{d}} ~\text{mod}~ {\color{OliveGreen}\textbf{n}}$ \\
                    Anhängen der Signatur ${\color{OliveGreen}\textbf{s}}$ an die verschlüsselte Nachricht ${\color{OliveGreen}\textbf{x}}$
  \item[\textbf{Alice} verifiziert die Signatur] **Entschlüsselt** die Signatur **mit** Bob's **öffentlichen Key** (${\color{OliveGreen}\textbf{n}}$,${\color{OliveGreen}\textbf{e}}$) \\
  ${\color{OliveGreen}\mathbf{x}}'=\text{verif}_{\color{OliveGreen}K_{Pub}}({\color{OliveGreen}\textbf{s}})={\color{OliveGreen}\textbf{s}}^{\color{OliveGreen}\textbf{e}} ~\text{mod}~ {\color{OliveGreen}\textbf{n}}$
  \end{description}}

Die Signatur ist gültig wenn
\({\color{OliveGreen}\mathbf{x}}={\color{OliveGreen}\mathbf{x}}'\)

\textbf{Benötigt Padding}: Oscar in der Mitte kann verschiedene \&
gültige Signaturen generieren, in dem er eine eigene Signatur
\(s\in Z_n\) wählt und \(x=s^e~\text{mod}~n\) berechnet. \textbf{Jedoch}
kann er keine eigene gültige Nachricht erstellen.

\subsection{Digital Signature Algorithm
(DSA)}\label{digital-signature-algorithm-dsa}

\includegraphics{images/crypto/image-26.png}

\includegraphics{images/crypto/image-27.png}

\includegraphics{images/crypto/image-28.png}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{(von Livio gestohlenes) Beispiel}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\includegraphics{images/crypto/image-29.png}

\includegraphics{images/crypto/image-30.png}

\end{tcolorbox}

\includegraphics{images/crypto/image-31.png}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Hinweis}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\begin{itemize}
\tightlist
\item
  Federal US Government standard for digital signatures (DSS) by NIST
\end{itemize}

\begin{description}
\tightlist
\item[Based on Elgamal]
\faPlus Signature is only 320 bits long \textbar{} \faMinus Slower than
RSA signature scheme
\end{description}

\end{tcolorbox}

\subsubsection{Elliptic Curve Digital Signature Algorithm
(EC-DSA)}\label{elliptic-curve-digital-signature-algorithm-ec-dsa}

\begin{itemize}
\tightlist
\item
  DSA auf der Grundlage der Elliptischen Kurven-Kryptographie (ECC)
\item
  Bitlängen im Bereich von 160-256 Bit können gewählt werden, um eine
  Sicherheit zu erreichen, die der von RSA mit 1024-3072 Bit entspricht
  (symmetrische Sicherheitsstufe 80-128 Bit)
\item
  Eine Signatur besteht aus zwei Punkten, d.~h. die Signatur ist doppelt
  so lang wie die verwendete Bitlänge (d.~h. 320-512 Bit für die
  Sicherheitsstufe 80-128 Bit).
\item
  Die kürzere Bitlänge von ECDSA führt oft zu einer kürzeren
  Verarbeitungszeit
\end{itemize}

\subsection{Key Freshness}\label{key-freshness}

Key Freshness\ldots{} (change keys frequently)

\begin{itemize}
\tightlist
\item
  Limited damage if a key is exposed but was changed often
\item
  Attacks are more difficult if the ciphertext for one key is limited
\item
  Attackers must recover several keys for long pieces of ciphertext
  \ldots{} with Key Derivation
\item
  derive multiple session keys \(k_{ses}\) from a given key \(k_{AB}\)
  and \(a\) nonce \(r\) (``number used only once'')
\end{itemize}

\subsection{Key Distribution Center
(KDC)}\label{key-distribution-center-kdc}

\includegraphics{images/crypto/image-32.png}

\subsection{Asymmetric Key Distribution (DHKE, RSA,
ECDSA\ldots)}\label{asymmetric-key-distribution-dhke-rsa-ecdsa}

\subsubsection{Certifying Authority (CA)}\label{certifying-authority-ca}

{\small\begin{description}[parsep=2mm,labelsep=2pt,labelwidth=8pt]
  \item[Role:] Issues certificates like sigKCA(kpub, …)
  \item[Trust:] Must be trusted by all users.
  \item[Certificate:] Contains public key and user ID with CA's digital signature (e.g., $Cert_Alice$ = ($k_{pub}$, $ID_{Alice}$, $sig_{KCA}$($k_{pub}$, $ID_{Alice}$))), binding identity to key.
  \item[Security Risk:] Vulnerable to man-in-the-middle attacks if the attacker (Oscar) replaces the public key during communication.
  \item[Verification:] Requires the CA's public key, which must be distributed over an authenticated channel.
  \item[Distribution:] CA public key is typically distributed once during system setup (e.g., pre-installed in web browsers).
  \item[Weakness:] Initial transmission of CA public key is not authenticated.
  \item[Standard:] X.509 is a common standard with fields like serial number, algorithm, issuer, validity dates, subject, subject's public key, and signature.
\end{description}}

\subsection{Hash Functions}\label{hash-functions}

\subsubsection{Block}\label{block}

\subsection{weitere Begriffe}\label{weitere-begriffe}

{\small
\textbf{Keyspace} Anzahl möglichen \& relevanten Keys

\textbf{Brute Force} Alle Keykombination versuchen (Erfolg $\approx$ Keyspace/2)

\textbf{Frequency Analysis} Gewisse Zeichen(kombinationen) werden häufiger verwendet 

}

\subsection{Buzzwords}\label{buzzwords}

S-Box Substitution-Box {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Man in the middle attack {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Initialization Vector (IV)
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Differential
cryptanalysis {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} NSA No Such
Agency ;-) {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} GCM Galois
Counter Mode {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Meet-in-the-Middle Attack {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
TLA Three Letter Acronym {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Miller-Rabin Primality-Test
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} One way trap door
function {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} CFB Cipher
Feedback Mode {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} OFB Output
Feedback Mode {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Nonlinear
\(f(A)+f(B)\neq f(A+B)\) {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Elgamal Encryption Scheme {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
RSA Rivest Shamir Adleman {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
DC Differential Cryptanalysis
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} GCD Greatest Common
Divisor {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} RSA Public Key
Cryptography {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} ECC Elliptic
curve cryptography {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Probabilistic encryption scheme
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} ECB Electronic Code Book
mode {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} DSA Digital
Signature Algorithm {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} DLP
Discrete Logarithm Problem
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} CBC Cyber Block Chaining
mode {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} NONCE Number Used
Only Once {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} DES Digitsal
Encryption Standard {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} EEA
Extended Euclidian Algorithm
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} DHKE Diffie--Hellman Key
Exchange {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} AES Advanced
Encryption Standard {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} X-TEA
Extended Tiny Encryption Algorithm
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} EDE
encryption-decryption-encryption mode
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} ECDH Elliptic Curve
Diffie-Hellman Key Exchange
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} EC-DSA Elliptic Curve
Digital Signature Algorithm
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} NIST National Institute
of Standards and Technology
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Key-Whitening
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Confidentiality
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Block-Cypher
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Prime Fields
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Block-Chain
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Key-Space
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Ciphertext
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Puplic-Key
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Malleable
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Confusion
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Integrity
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Diffusion
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Padding
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Enigma
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Rounds
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Bijectiv
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Hash
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Traffic analysis attack
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Alice / Bob vs Charlie
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Fermat Primality-Test
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Square-and-Multiply
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Side channel attack
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} CTR Counter Mode
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} OTP One Time Pad
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Double-Encryption
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Frequeny-Analysis
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Tripple-Encryption
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Bute-Force Attack
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Symmetric cipher
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Cyclic subgroups
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Feistel-Network
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Vignere-Cipher
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Stream-Cipher
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Elliptic Curves
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Proof of identity
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Smart Contracts
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Non-repudiation
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Double-spending
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Central authority
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} double spending
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Birthday paradox
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Immutable ledger
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Consensus system
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Collision resistance
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Hirose Construction
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Preimage resistance
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Proof of elapsed time
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Single point of failure
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Distributed consensus
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Initial Coin Offering
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} ``proof of work'' puzzle
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} CA Certifying authority
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} RSA signature scheme
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Message authentication
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} KEK key encryption key
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Perfect Forward Secrecy
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Davies-Meyer construction
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Communication bottleneck
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Second preimage
resistance {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Asymmetric Key
Distribution {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} KDC Key
Distribution Centre {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Secure Hash Algorithm SHA-1
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Merkle-D\aa mgard
construction {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}}
Miyaguchi--Preneel construction
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Matyas-Meyer-Oseas
construction {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Electronic
cash {\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Key Derivation
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Key Freshness
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Hash Function
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Pseudonymity
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Genesis Block
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Proof of stake
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} MD-4 family
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Hash-Chain
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Immutable
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Anonymity
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Kerberos
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Satoshi
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Bitcoin
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} Mining
{\vspace{2mm}\color{NavyBlue!70},\vspace{2mm}} X.509

\newpage

\section{\texorpdfstring{Docker \faIcon{docker}}{Docker }}\label{docker}

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/meme_docker.jpg}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Wichtig}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Bash Befehle via Host sind mit {\color{BrickRed}{\texttt{\textbf{\$}}}}
gekennzeichnet.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{\$}\NormalTok{ echo }\StringTok{"this happens on the host"}
\end{Highlighting}
\end{Shaded}

Bash Befehle in einem Docker Container sind mit
{\color{BrickRed}{\texttt{\textbf{\#}}}} gekennzeichnet.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{\#}\NormalTok{ echo }\StringTok{"this happens in a Docker container"}
\end{Highlighting}
\end{Shaded}

\end{tcolorbox}

\subsection{Was'n Docka?}\label{wasn-docka}

Docker ist eine Plattform zur Software-Virtualisierung mit Fokus auf
\ul{Wiederverwendbarkeit} und \ul{Containerisierung}.

Die Idee ist, eine Anwendunge mit der nötigen Konfiguration, Runtime und
Bibliotheken in ein Paket zusammenzustellen und dann als
\textbf{portables} Produkt weitergegeben, verarbeitet, etc. ausgeführt
werden.

\subsection{Begriffe}\label{begriffe}

\begin{description}
\tightlist
\item[Image]
eine schreibgeschützte und vorgefertigte Vorlage, welche alle nötigen
Software and Dateien beinhaltet. Es ist eine ``Momentaufnahme'' des
Filesystems.
\item[Container]
ist die \ul{ausgeführte Instanz eines Images} und ist eine
\ul{isolierte} Umgebung, welche die entsprechende Prozesse ausführt,
\textbf{ohne} andere Systeme zu stören.
\item[Dockerfile]
beschreibt wie ein Docker Image zusammengebaut wird anhand Schritten
\(\rightarrow\) welche Tools installiert und Dateien kopiert werden
\item[Layers]
Ein Image ist auf Layern aufgebaut, welche während einem Build-Prozess
mit einem Dockerfile erstellt werden. Jede Anweisung im Dockerfile
erzeugt einen neuen Layer mit einer eindeutigen ID.
\item[Container Layer]
Wenn ein Container kreiert und gestartet wird, entsteht ein Container
Layer, welcher alle Änderungen verfolgt. Mit \texttt{commit} kann ein
neues Image mit diesen Änderungen kreiert werden.
\item[Docker daemon \texttt{dockerd} (Service)]
Auch bekannt als \emph{Docker Engine}. Zuständig für Ausführungen der
Container und Docker Kommandos.
\item[Volumes]
Dateien in Volumes bleiben nach Beendigung/Löschung des Containers
erhalten (für Datenaustausch z.B. zwischen Host \& Cont. oder
seriell/parralel Cont. zu Cont.)
\end{description}

\subsection{Docker Pfade}\label{docker-pfade}

\begin{itemize}
\tightlist
\item
  \texttt{/var/lib/docker/}: Hauptverzeichnis von Docker
\item
  \texttt{/var/lib/docker/images/}: enthält Metadaten zu den Images
\item
  \texttt{/var/lib/docker/\textless{}overlay-driver\textgreater{}/}:
  enthält ausgepackte Layer (Images \& Container)
\item
  \texttt{/var/lib/docker/volumes/}: enthält Volumen
\end{itemize}

\subsection{Images}\label{images}

Images sind \textbf{schreibgeschützte} Pakete, welches schichtenweise
mit Software und Strukturen aufgebaut ist.

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/docker/image_structure.pdf}
\end{center}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Auflisten}{ Auflisten}}\label{auflisten}

Listet alle heruntergeladenen Images auf

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker images}
\ExtensionTok{$}\NormalTok{ docker image ls}
\ExtensionTok{$}\NormalTok{ docker image list}
\ExtensionTok{REPOSITORY}\NormalTok{   TAG       IMAGE ID       CREATED       SIZE}
\ExtensionTok{debian}\NormalTok{       latest    5027089adc4c   3 weeks ago   117MB}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Löschen}{ Löschen}}\label{luxf6schen}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker rm }\OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\ExtensionTok{$}\NormalTok{ docker images rm }\OperatorTok{\textless{}}\NormalTok{Image}\OperatorTok{\textgreater{}}
\ExtensionTok{$}\NormalTok{ docker rmi }\OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

Löscht ein Image (\textcolor{RedOrange}{\textbf{WICHTIG}} kein Container
mit diesem Image sollte dabei existieren, sonst gehts nicht)

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker image prune}
\end{Highlighting}
\end{Shaded}

löscht \emph{dangling} (nicht gekennzeichnete / Tag = \texttt{none})
Images. \texttt{-a} löscht alle Images, welche nicht verwendet werden

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}} Neue
Version
veröffentlichen}{ Neue Version veröffentlichen}}\label{neue-version-veruxf6ffentlichen}

Nachdem eine Version kreiert wurde, kann diese auf DockerHub
veröffentlicht werden.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker image push }\PreprocessorTok{[}\SpecialStringTok{options}\PreprocessorTok{]} \OperatorTok{\textless{}}\NormalTok{name}\OperatorTok{\textgreater{}}\PreprocessorTok{[}\SpecialStringTok{:tag}\PreprocessorTok{]}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Grösse}{ Grösse}}\label{gruxf6sse}

{\small

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker images}
\ExtensionTok{REPOSITORY}\NormalTok{   TAG     IMAGE ID      CREATED        SIZE}
\ExtensionTok{alpine}\NormalTok{       latest  1d34ffeaf190  2 weeks ago    7.79MB}
\ExtensionTok{hello{-}world}\NormalTok{  latest  d2c94e258dcb  13 months ago  13.3kB}
\end{Highlighting}
\end{Shaded}

}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Informationen
abrufen}{ Informationen abrufen}}\label{informationen-abrufen}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker inspect }\OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsection{Container}\label{container}

Container sind ausgeführte, \textbf{isolierte} Images.

\subsubsection{Container-Layer}\label{container-layer}

Da das Image schreibgeschützt ist, werden alle Änderungen, Löschungen
und Hinzufügungen am Image in der \textbf{Container-Layer} verfolgt
\(\rightarrow\) das Image bleibt heil und unversehen.

Dies bedeutet auch, dass das Image nur \textbf{einmal} pro Version
existiert.

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/docker/volume_clayer.pdf}
\end{center}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Erstellen/Ausführen/Starten}{ Erstellen/Ausführen/Starten}}\label{erstellenausfuxfchrenstarten}

\phantomsection\label{annotated-cell-7}%
\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\OperatorTok{\textless{}}\NormalTok{opt}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{args}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{1}}
\ExtensionTok{$}\NormalTok{ docker create }\OperatorTok{\textless{}}\NormalTok{opt}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{args}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{2}}
\ExtensionTok{$}\NormalTok{ docker start }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
Direkt erstellen \& ausführen
\item[\circled{2}]
Container erstellen und dann ausführen
\end{description}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Auflisten}{ Auflisten}}\label{auflisten-1}

listet alle \textbf{momentan} ausgeführten Container auf. Mit
\texttt{-a} listet alle Container auf

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker ps }\CommentTok{\# kurz für \textquotesingle{}docker container ls\textquotesingle{}}
\ExtensionTok{CONTAINER}\NormalTok{ ID  IMAGE   COMMAND ... STATUS        ... NAMES}
\ExtensionTok{79f3f8a71b46}\NormalTok{  debian  }\StringTok{"bash"}\NormalTok{  ... Up 56 minutes ... musing\_wozniak}
\ExtensionTok{6201bc70ef8c}\NormalTok{  debian  }\StringTok{"bash"}\NormalTok{  ... Up 58 minutes ... magical\_villani}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Attach/Detach}{ Attach/Detach}}\label{attachdetach}

Ein Container mit einer Shell, z.B. Bash, kann via \texttt{attach} oder
\texttt{-it} zugegriffen werden.

\phantomsection\label{annotated-cell-9}%
\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{docker}\NormalTok{ attach }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{1}}
\ExtensionTok{docker}\NormalTok{ run }\AttributeTok{{-}it} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{2}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
Bei bereits aktiven Container
\item[\circled{2}]
Die Shell des Containers wird an den Vordergrund gebracht + Pseudo
Terminal
\end{description}

Mit \texttt{CTRL+Q\ CTRL+P} hängt man sich vom Container ab, ohne ihn zu
beenden. \texttt{CTRL+C} oder im Shell \texttt{exit} beendet den
Container.

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Interaktivität}{ Interaktivität}}\label{interaktivituxe4t}

Ein Container kann auf verschiedene Arten gestartet werden.

\phantomsection\label{annotated-cell-10}%
\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker start }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{1}}
\ExtensionTok{$}\NormalTok{ docker start }\AttributeTok{{-}i} \OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{2}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
im Hintergrund
\item[\circled{2}]
im Vordergrund
\end{description}

{\small

\begin{description}
\tightlist
\item[\texttt{-i/-\/-interactive}]
Macht den Container interaktiv und verbindet die Standardeingabe.
\item[\texttt{-t/-\/-tty}]
Aktiviert einen Pseudo-Terminalsimulator für den Container
(\texttt{...:/\#\ \textless{}cmd\textgreater{}}).
\end{description}

}

\phantomsection\label{annotated-cell-11}%
\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}i}\NormalTok{ debian }\hspace*{\fill}\NormalTok{\circled{1}}
\BuiltInTok{echo}\NormalTok{ hello world}
\ExtensionTok{hello}\NormalTok{ world}

\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}it}\NormalTok{ debian }\hspace*{\fill}\NormalTok{\circled{2}}
\ExtensionTok{root@containerID:/\#}\NormalTok{ echo hello world}
\ExtensionTok{hello}\NormalTok{ world}

\ExtensionTok{$}\NormalTok{ docker create }\AttributeTok{{-}t}\NormalTok{ debian }\hspace*{\fill}\NormalTok{\circled{3}}
\ExtensionTok{$}\NormalTok{ docker start }\AttributeTok{{-}i} \OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
Interaktiv ohne TTY
\item[\circled{2}]
Interaktiv mit TTY
\item[\circled{3}]
In Einzelschritten
\end{description}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Löschen}{ Löschen}}\label{luxf6schen-1}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker rm }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}\NormalTok{ [container ...]}
\end{Highlighting}
\end{Shaded}

Es können nur \emph{stopped} und \emph{created} Container gelöscht
werden.

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Löschen nach Beendung}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}{-}rm} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Inaktive Container löschen}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Löscht alle Container, welche nicht mehr verwendet werden.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker container prune}
\end{Highlighting}
\end{Shaded}

\end{tcolorbox}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
(Um-)benennen}{ (Um-)benennen}}\label{um-benennen}

Ein Name kann auf zwei Arten einem Container zugewiesen werden.

\phantomsection\label{annotated-cell-13}%
\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker rename }\OperatorTok{\textless{}}\NormalTok{old}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{new}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{1}}
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}{-}name}\NormalTok{ peter\_enis debian }\hspace*{\fill}\NormalTok{\circled{2}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
Ein bereits existierender Container wird umbenannt
\item[\circled{2}]
Bei \textbf{Erstellung} eines Containers kann direkt ein Name zugewiesen
werden
\end{description}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}} Dateien
kopieren Host \(\rightleftarrows\)
Container}{ Dateien kopieren Host \textbackslash rightleftarrows Container}}\label{dateien-kopieren-host-rightleftarrows-container}

Der Docker Host kann Dateien in und aus dem Container kopieren.

\phantomsection\label{annotated-cell-14}%
\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker container cp }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}\NormalTok{:}\OperatorTok{\textless{}}\NormalTok{path}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{dest}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{1}}
\ExtensionTok{$}\NormalTok{ docker cp }\OperatorTok{\textless{}}\NormalTok{src}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}\NormalTok{:}\OperatorTok{\textless{}}\NormalTok{dest}\OperatorTok{\textgreater{}} \hspace*{\fill}\NormalTok{\circled{2}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
kopiert dateien vom Container zum Host
\item[\circled{2}]
kopiert vom Host zum Container
\end{description}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Ausgabe}{ Ausgabe}}\label{ausgabe}

Zeigt Log Daten (z.B. Konsolenausgabe) während der Ausführung an
(\texttt{-f} folgt dem Container/ kontinuierliches Update)

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker logs }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}} Prozesse
ausführen/abfragen}{ Prozesse ausführen/abfragen}}\label{prozesse-ausfuxfchrenabfragen}

Führt Prozesse in einem aktiven Container aus.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker exec }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{cmd}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

Gibt Prozesse des Containers an (\texttt{ax} als Argument gibt alle
laufenden Prozesse an)

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker top }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{arg}\OperatorTok{\textgreater{}}
\ExtensionTok{$}\NormalTok{ docker container top }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{arg}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Logging}{ Logging}}\label{logging}

Zeigt Log Daten während ausführung an (\texttt{-f} folgt dem Container/
kontinuierliches update).

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker logs }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Lebenszyklus}\label{lebenszyklus}

Ein Docker-\textbf{Container} kann fünf Zustände annehmen (\ul{Created},
\ul{Running}, \ul{Deleted}, \ul{Stopped} und \ul{Paused}) und kann mit
folgenden Docker-Befehlen gesteuert werden.

\resizebox{\columnwidth}{!}{
  \input{./tikzedt/life_cycle.tex}
}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Unterschied \emph{Stopped} und \emph{Paused}}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Wenn ein Container gestoppt wird, werden alle ihm zugewiesenen
Ressourcen freigegeben, während bei einem angehaltenen Container kein
Speicher, aber die CPU freigegeben wird.

\end{tcolorbox}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}} Grösse
\texttt{-\/-size}}{ Grösse -\/-size}}\label{gruxf6sse---size}

Da ein Container Änderungen auf einer separaten Layer verfolgt, ist der
Speicherplatz selbst meistens klein.

{\small

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker ps }\AttributeTok{{-}a} \AttributeTok{{-}{-}size}
\ExtensionTok{CONTAINER}\NormalTok{ ID   IMAGE       ...  NAMES               SIZE}
\ExtensionTok{253be0a7fe55}\NormalTok{   alpine      ...  brave\_pascal        8B }\ErrorTok{(}\ExtensionTok{virtual}\NormalTok{ 7.79MB}\KeywordTok{)}
\ExtensionTok{68bb3a7fdf37}\NormalTok{   hello{-}world ...  loving\_mcclintock   0B }\ErrorTok{(}\ExtensionTok{virtual}\NormalTok{ 13.3kB}\KeywordTok{)}
\ExtensionTok{d20695e9fe4b}\NormalTok{   alpine      ...  unruffled\_tesla     25B }\ErrorTok{(}\ExtensionTok{virtual}\NormalTok{ 7.79MB}\KeywordTok{)}
\end{Highlighting}
\end{Shaded}

}

\texttt{virtual} referenziert auf Container + Image = Totale
theoretische Grösse.

\subsubsection{Image kreieren aus
Container}\label{image-kreieren-aus-container}

Aus einem Container kann ein neues Image erstellt werden:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker container commit }\OperatorTok{\textless{}}\NormalTok{container}\OperatorTok{\textgreater{}}\NormalTok{ [image}\PreprocessorTok{[}\SpecialStringTok{:tag}\PreprocessorTok{]}\NormalTok{]}
\ExtensionTok{$}\NormalTok{ docker commit ...}
\end{Highlighting}
\end{Shaded}

\subsection{Volume}\label{volume}

Container sind voneinander isoliert \(\rightarrow\) Datenaustausch
zwischen Host \(\rightleftarrows\) Container \& Container
\(\rightleftarrows\) Container wird mit \textbf{Volumen} gemacht. Dies
muss \textbf{explizit} angegeben werden.

\begin{center}
\includegraphics[width=9cm,height=\textheight]{images/docker/volume_structure.pdf}
\end{center}

Mit dem Parameter \AttributeTok{{-}v} und einem Pfad wird ein Volumen
angegeben.

\subsubsection{Host Volumes}\label{host-volumes}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}v}\NormalTok{ /path/in/host:/path/in/container }\OperatorTok{\textless{}}\NormalTok{opt}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \texttt{/path/in/host}: Pfad auf dem Host
\item
  \texttt{/path/in/container}: Pfad im Container, welche mit dem
  Host-Pfad verbunden wird.
\end{itemize}

\subsubsection{Named Volumes}\label{named-volumes}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}v}\NormalTok{ name:/path/in/container }\OperatorTok{\textless{}}\NormalTok{opt}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \texttt{name}: Name des Volumens
\item
  \texttt{/path/in/container}: Pfad im Container, welche geöffnet wird.
\end{itemize}

\subsubsection{Anonyme Volumes}\label{anonyme-volumes}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}v}\NormalTok{ /path/in/container }\OperatorTok{\textless{}}\NormalTok{opt}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  \texttt{/path/in/container}: Pfad im Container, welche geöffnet wird.
\end{itemize}

\subsubsection{Datenaustasch}\label{datenaustasch}

\circled{1} \ul{Host \& Container}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/docker/volume_exchange_host.pdf}
\end{center}

\circled{2} \ul{Container \& Container (parallel)}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/docker/volume_exchange_parallel.pdf}
\end{center}

\circled{3} \ul{Container nach Container (seriell)}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/docker/volume_exchange_series.pdf}
\end{center}

\subsubsection{Speicherpfade}\label{speicherpfade}

\ul{Benannte} \& \ul{anonyme} Volumen werden unter dem Pfad
\texttt{/var/lib/docker/volumes/} angelegt.

\ul{Host} Volumen werden an einem vom Host festgelegten Pfad angelegt.

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Auflisten}{ Auflisten}}\label{auflisten-2}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker volume ls}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}} Volumen
löschen}{ Volumen löschen}}\label{volumen-luxf6schen}

Um ein Volumen zu löschen, muss der Name des Volumens angegeben werden.
Ebenfalls darf es von keinem Container verwendet werden.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker volume rm }\OperatorTok{\textless{}}\NormalTok{volume}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\texttt{prune} löscht nicht gebrauchte \ul{anonyme} Volumen. Mit
\texttt{-a/-\/-all} können ungebrauchte \ul{anonyme und benannte}
Volumen gelöscht werden.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker volume prune}
\end{Highlighting}
\end{Shaded}

\subsubsection{\texorpdfstring{{\small \faTerminal\hspace{1mm}}
Erstellen}{ Erstellen}}\label{erstellen}

Mit dem \texttt{volume\ create} Befehl können anonyme und benannte
Volumen erstellt werden. Einfach keine Pfad/Host Volumen.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker volume create }\PreprocessorTok{[}\SpecialStringTok{name}\PreprocessorTok{]}
\end{Highlighting}
\end{Shaded}

\subsection{Dockerfile}\label{dockerfile}

Mit einem \faFile[regular] \texttt{Dockerfile} kann ein Image erstellt
werden anhand Anweisungen. \ul{Jede Anweisung erzeugt eine eigene
Layer}.

\begin{center}
\includegraphics[width=8cm,height=\textheight]{images/docker/dockerfile_image.pdf}
\end{center}

\subsubsection{Anweisungen}\label{anweisungen}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{FROM}\NormalTok{ \textless{}image\textgreater{} }\CommentTok{\# image oder \textquotesingle{}scratch\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

Mit der Anweisung \texttt{FROM} setzt man das Parent- oder Basis-Image.
Es ist die erste Anweisung in einem Dockerfiles. Es können mehrere
\texttt{FROM} verwendet werden, wenn man Multistage-Building machen
möchte.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{COPY}\NormalTok{ [OPTIONS] \textless{}src\textgreater{} ... \textless{}dest\textgreater{}}
\KeywordTok{COPY}\NormalTok{ [OPTIONS] [}\StringTok{"\textless{}src\textgreater{}"}\NormalTok{, ... }\StringTok{"\textless{}dest\textgreater{}"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

Kopiert die Quelle zur Destination. Wenn die Destination ein Ordner ist,
können mehrer Dateien kopiert werden. Mit dem Wildcard-Zeichen\texttt{*}
und Wildcard-Einzelzeichen \texttt{?} können mehrere ähnliche Dateien
auf einmal kopiert werden.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{COPY}\NormalTok{ hom*.txt /mydir/}
\CommentTok{\# sammelt alle Dateien z.B. \textquotesingle{}home.txt\textquotesingle{} und \textquotesingle{}homie.txt\textquotesingle{}}

\KeywordTok{COPY}\NormalTok{ hom?.txt /mydir/}
\CommentTok{\# findet \textquotesingle{}home.txt\textquotesingle{}, aber nicht \textquotesingle{}homie.txt\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{RUN}\NormalTok{ [OPTIONS] \textless{}command\textgreater{} ...}
\KeywordTok{RUN}\NormalTok{ [OPTIONS] [ }\StringTok{"\textless{}command\textgreater{}"}\NormalTok{, ... ]}
\end{Highlighting}
\end{Shaded}

Führt Befehle im Image aus, z.B.
\VERB|\KeywordTok{RUN} \ExtensionTok{apt{-}get}\NormalTok{ update }\KeywordTok{\&\&} \ExtensionTok{apt{-}get}\NormalTok{ install }\AttributeTok{{-}y}\NormalTok{ curl}|.
Mit \texttt{\textbackslash{}} kann der Befehl auf mehrere Zeilen
gebrochen werden.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ADD}\NormalTok{ [OPTIONS] \textless{}src\textgreater{} ... \textless{}dest\textgreater{}}
\KeywordTok{ADD}\NormalTok{ [OPTIONS] [}\StringTok{"\textless{}src\textgreater{}"}\NormalTok{, ... }\StringTok{"\textless{}dest\textgreater{}"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

Ähnlich wie \texttt{COPY}, einfach können URLs angegeben werden und
gezippte Dateien werden automatisch entpackt.

\subsubsection{Startkommando}\label{startkommando}

Die Startkommandos eines Container können auf zwei Arten gesetzt:
\texttt{CMD} und \texttt{ENTRYPOINT}.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ENTRYPOINT}\NormalTok{ [}\StringTok{"executable"}\NormalTok{, }\StringTok{"param1"}\NormalTok{, }\StringTok{"param2"}\NormalTok{]}
\KeywordTok{ENTRYPOINT} \BuiltInTok{command}\NormalTok{ param1 param2}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# wenn ENTRYPOINT nicht gesetzt ist, wird CMD als Startkommande verwendet.}
\KeywordTok{CMD}\NormalTok{ [}\StringTok{"executable"}\NormalTok{,}\StringTok{"param1"}\NormalTok{,}\StringTok{"param2"}\NormalTok{]}

\CommentTok{\# als default Parameter zu ENTRYPOINT}
\KeywordTok{CMD}\NormalTok{ [}\StringTok{"param1"}\NormalTok{,}\StringTok{"param2"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\includegraphics{images/docker/image-1.png}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker run }\PreprocessorTok{[}\SpecialStringTok{opts}\PreprocessorTok{]} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}} \PreprocessorTok{[}\SpecialStringTok{command}\PreprocessorTok{]} \PreprocessorTok{[}\SpecialStringTok{args...}\PreprocessorTok{]}
\ExtensionTok{$}\NormalTok{ docker run }\AttributeTok{{-}{-}rm} \AttributeTok{{-}it}\NormalTok{ debian ls }\AttributeTok{{-}la} \CommentTok{\# startet "ls {-}la" im Container}
\end{Highlighting}
\end{Shaded}

Um die Startkommandos eines Images anzuzeigen

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker inspect }\AttributeTok{{-}f} \StringTok{\textquotesingle{}ENTRYPOINT:\{\{.Config.Entrypoint\}\}; CMD:\{\{.Config.Cmd\}\}\textquotesingle{}} \OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\StringTok{"ENTRYPOINT:[]; CMD:[bash]"}

\ExtensionTok{$}\NormalTok{ docker inspect }\AttributeTok{{-}f} \StringTok{\textquotesingle{}ENTRYPOINT:\{\{.Config.Entrypoint\}\}; CMD:\{\{.Config.Cmd\}\}\textquotesingle{}}\NormalTok{ kaohslu/01{-}demo{-}img}
\StringTok{"ENTRYPOINT:[dotnet ASYD\_Demo.dll]; CMD:[]"}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{WORKDIR}\NormalTok{ /path/to/workdir}
\end{Highlighting}
\end{Shaded}

Mit \texttt{WORKDIR} wird der Arbeitspfad gesetzt (ab Aufruf der
Anweisung), wo Befehle wie \texttt{COPY} oder \texttt{ADD} ihre Arbeit
verrichten.

\subsubsection{Image builden}\label{image-builden}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker build }\OperatorTok{\textless{}}\NormalTok{path}\OperatorTok{\textgreater{}}\NormalTok{ {-}t }\OperatorTok{\textless{}}\NormalTok{name}\OperatorTok{\textgreater{}}\NormalTok{:}\OperatorTok{\textless{}}\NormalTok{tag}\OperatorTok{\textgreater{}}
\ExtensionTok{$}\NormalTok{ docker build }\AttributeTok{{-}t} \OperatorTok{\textless{}}\NormalTok{name}\OperatorTok{\textgreater{}}\NormalTok{:}\OperatorTok{\textless{}}\NormalTok{tag}\OperatorTok{\textgreater{}} \OperatorTok{\textless{}}\NormalTok{path}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Image Build History
zeigen}\label{image-build-history-zeigen}

Um die History eines Images anzuschauen \(\rightarrow\) Wie das Image
erstellt wurde.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker history }\OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Multistage}\label{multistage}

Mit Multistage Building können komplexe Images erzeugt werden.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# }\CommentVarTok{syntax=docker/dockerfile:1}
\KeywordTok{FROM}\NormalTok{ golang:1.21}
\CommentTok{\# FROM golang:1.21 as build}
\KeywordTok{WORKDIR}\NormalTok{ /src}
\KeywordTok{COPY}\NormalTok{ \textless{}\textless{}EOF ./main.go}
\NormalTok{package main}

\NormalTok{import }\StringTok{"fmt"}

\NormalTok{func main() \{}
\NormalTok{  fmt.Println(}\StringTok{"hello, world"}\NormalTok{)}
\NormalTok{\}}
\NormalTok{EOF}
\KeywordTok{RUN} \ExtensionTok{go}\NormalTok{ build }\AttributeTok{{-}o}\NormalTok{ /bin/hello ./main.go}

\KeywordTok{FROM}\NormalTok{ scratch}
\KeywordTok{COPY} \OperatorTok{{-}{-}from=0}\NormalTok{ /bin/hello /bin/hello}
\CommentTok{\# COPY {-}{-}from=build /bin/hello /bin/hello}
\KeywordTok{CMD}\NormalTok{ [}\StringTok{"/bin/hello"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\subsection{Netzwerke}\label{netzwerke}

Da Container per default isoliert sind (laufen in einem privaten
Netzwerk, welches sich Docker kümmert), muss man z.B. Netzwerke
\textbf{explizit} nach aussen öffnen, wenn man das will.

\textcolor{BrickRed}{[\textbf{TODO?}]}

\subsection{Docker Hub}\label{docker-hub}

\subsubsection{Images suchen \&
herunterladen}\label{images-suchen-herunterladen}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker search }\OperatorTok{\textless{}}\NormalTok{searchterm}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\NormalTok{ docker pull }\OperatorTok{\textless{}}\NormalTok{image}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Image Reference Format}\label{image-reference-format}

Standardmässig werden Images wie z.B.
\href{https://registry.hub.docker.com/_/hello-world}{\texttt{hello-world}}
immer vom \href{https://registry.hub.docker.com/}{DockerHub-registry}
heruntergeladen, aber es ist möglich andere \textbf{repos} anzufragen.
Es gilt folgendes Format:

\begin{center}
\texttt{\textbf{\color{BrickRed}{<repo>}}{\color{Gray}{/}}\textbf{\color{OliveGreen}{<source>}}{\color{Gray}{/}}\textbf{\color{NavyBlue}{<image>}}{\color{Gray}{/}}\textbf{\color{Periwinkle}{<tag>}}}

\end{center}

\begin{itemize}
\tightlist
\item
  \textbf{\texttt{\color{BrickRed}{<repo>}}}: Repository/Content-Host
  (default \texttt{index.docker.io})
\item
  \textbf{\texttt{\color{OliveGreen}{<source>}}} Untergruppe,
  Hauptprojekt, User, Organisation, etc. (default \texttt{library})
\item
  \textbf{\texttt{\color{NavyBlue}{<image>}}} Projekt, wie z.B. eine
  Runtime
\item
  \textbf{\texttt{\color{Periwinkle}{<tag>}}} Version oder Tag des
  Projektes (default \texttt{latest})
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{\$}\NormalTok{ docker run }\textbf{\texttt{\color{OliveGreen}{kaohslu}}}/\textbf{\texttt{\color{NavyBlue}{01-demo-img}}}:\textbf{\texttt{\color{Periwinkle}{latest}}}
\end{Highlighting}
\end{Shaded}

\(\rightarrow\) Auf dem offiziellen Repository
\textbf{\texttt{\color{BrickRed}{DockerHub}}} wird unter dem User
\textbf{\texttt{\color{OliveGreen}{kaohslu}}} das Image
\textbf{\texttt{\color{NavyBlue}{01-demo-img}}} der Version
\textbf{\texttt{\color{Periwinkle}{latest}}} heruntergeladen und
gestartet.

\newpage

\section{Performance}\label{performance}

\subsection{Cache}\label{cache}

\subsubsection{Simple 8x8 Cache}\label{simple-8x8-cache}

\includegraphics{images/performance/image-8.png}

\begin{itemize}
\tightlist
\item
  \(8\times 8\text{ Cache}=64\text{ Instr.}\Rightarrow\) 8 cache
  lines/\textbf{pages} containing 8 Instructions and three Tag bits
  each.
\item
  Valid Bit determines the validity of entry
\end{itemize}

\[
\small\text{Tag}\times\text{Index}=\text{Cache Address}\qquad A_{2-0}=\text{Line Offset}
\]

\subsubsection{Direct Cache Mapping}\label{direct-cache-mapping}

\includegraphics{images/performance/image-9.png}

Simple \& oldest caching system \(\rightarrow\)

\subsubsection{\texorpdfstring{Thrashing /
\href{https://de.wikipedia.org/wiki/Seitenflattern}{Seitenflattern}}{Thrashing / Seitenflattern}}\label{thrashing-seitenflattern}

\includegraphics{images/performance/image-6.png}

Where main memory is accessed in a pattern that leads to multiple main
memory locations competing for the same cache lines, resulting in
excessive cache misses. This is most problematic for caches that have
low associativity.

\subsubsection{Set Associative Cache
Mapping}\label{set-associative-cache-mapping}

\includegraphics{images/performance/image-7.png}

A set-associative caching system reorganises cache lines into sets
e.g.~with four cache lines per set (\emph{four-way set-associative}
cache).

\subsubsection{Cache Struktur}\label{cache-struktur}

\includegraphics{images/performance/cache-line-structure.png}
{\footnotesize Struktur einer Cache-Zeilen}

\subsubsection{Advanced Cache Lines}\label{advanced-cache-lines}

\includegraphics{images/performance/image-17.png}

{\footnotesize\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
\item[\textbf{Cache Tag}] Cache line source in system memory
\item[\textbf{Index}] Identifies cache line location
\item[\textbf{Offset}] Points at specific data word/byte
\item[\textbf{Valid Bit}] Set on valid data in cache line
\item[\textbf{Dirty Bit}] Set when data has been changed/overwritten by the CPU $\rightarrow$ write back required
\end{description}}

\subsubsection{Line Replacement
Strategies}\label{line-replacement-strategies}

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
\item[\textbf{FIFO}] Oldest written line is replaced 
\item[\textbf{LRU}] (Least Recently Used) the lien with the oldest timestamp is replaced $\rightarrow$ complex system
\item[\textbf{Random}] Cheap and effective, makes thrashing unlikely 
\item[\textbf{NMRU}] (Not most recently used) randomly, except \textbf{not} most recent $\rightarrow$ performs a bit better than randomly
\item[\textbf{Valid Bit}] Set on valid data in cache line
\item[\textbf{Dirty Bit}] Set when data has been changed/overwritten by the CPU $\rightarrow$ write back required
\end{description}}

\subsubsection{Write Back Strategies}\label{write-back-strategies}

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
\item[\textbf{Write-Through}] Any time a data word in a cache line is changed by the CPU, the cache line is written to memory immediately. This wastes time but the CPU’s view of memory is consistent.
\item[\textbf{Write-Back}] A “dirty” cache line is written back to memory only when the replacement policy has chosen to evict this line from cache. {\footnotesize Write-back avoids a lot of unnecessary system memory writes at the cost of a more relaxed consistency (may cause problems in multi-CPU systems)}
\end{description}}

\subsection{Memory Management Unit
(MMU)}\label{memory-management-unit-mmu}

\includegraphics{images/performance/image-20.png}

\subsubsection{Tasks}\label{tasks}

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
\item[\textbf{Memory Protection}:] Without an MMU, processes can 'reach' into other processes' memory (unstable \& security suffer). Modern systems isolate this by using an MMU.
\item[\textbf{Virtual Memory}:] Supports memory swapping, to move infrequently used memory out to a disk and allow high-memory processes to use these areas.
\item[\textbf{Defragmentation}:] cleans unused memory caused by long run program
\end{description}}

\subsubsection{Memory Protection Unit
(MPU)}\label{memory-protection-unit-mpu}

\includegraphics{images/performance/image-18.png}

{\small

\begin{itemize}
\tightlist
\item
  Separates processes, enforces privilege and access rules to memory
\item
  Prevents task's \textbf{stack overflows} into other tasks
\item
  Defineable \textbf{No instruction fetch} areas (protect from malicious
  execution)
\item
  Access type configuration (read-only, write-read)
\item
  Access without permission raises permission fault
\end{itemize}

}
{\footnotesize MPU on Cortex M4 supports 8 programmable overlapping protection regions, with write, execute bits, cache policy and shareability}

\subsubsection{Caching and Virtual
Memory}\label{caching-and-virtual-memory}

\includegraphics{images/performance/image-19.png}

{\footnotesize \textbf{Goal}: Give each process the \textbf{illusion} that it has its own \textbf{private}, \textbf{$\approx$ infinite} system memory}

{\small

\begin{itemize}
\tightlist
\item
  Is a cooperative venture between the operating system and hardware
  memory management unit (MMU)
\item
  Virtual address space is divided into many small pages (often 4KB)
\end{itemize}

}

\subsubsection{Simplified MMU}\label{simplified-mmu}

\includegraphics{images/performance/image-21.png}

{\small

If {\bfseries\color{Orange}Block 5} is mapped, one of the pages need to
be swapped (since no page accesses 5's memory). For example B3 is
unused, therefore it is swapped with the page of B5.

}

\subsubsection{Address Translation
32-Bit}\label{address-translation-32-bit}

\includegraphics{images/performance/image-22.png}

{\small

\begin{itemize}
\tightlist
\item
  Divides 32-Bit virtual address into 20-bit \textbf{page number} and
  12-bit \textbf{page offset} (\(2^{12}=\) 4kB pages)
\item
  Virtual Address \(\rightarrow\) 20-bit lookup in \ul{page table} +
  \ul{permission check} \(\rightarrow\) Physical address is
  `returned'/`set'
\item
  Page table entries are usually 4-Byte:
  \(2^{32}/2^{12}\text{ pages}\times 4\sfrac{\text{bytes}}{\text{page}}=\)
  4MB in size.
\end{itemize}

}

\subsubsection{Two-Level Page Table}\label{two-level-page-table}

\begin{figure}[H]

{\centering \includegraphics{images/performance/image-23.png}

}

\caption{alt text}

\end{figure}%

{\small

\begin{itemize}
\tightlist
\item
  Page table is split up in two
\item
  Does not create unused 4Mb pages
\end{itemize}

}

\subsection{Single-Instruction, Multiple Data
(SIMD)}\label{single-instruction-multiple-data-simd}

SIMD allows the calculation of multiple data at once via a single
instruction (\ul{Vector} calculations). This is useful for example RGB
channel calculations.

\includegraphics{images/performance/image-24.png}

\subsubsection{ARM NEON}\label{arm-neon}

ARM NEON is a SIMD Coprocessor for the ARM architecture (ARM11, ARMv6
ISA).

\begin{itemize}
\tightlist
\item
  16 Registers à 128 bits
\item
  Separate pipeline
\item
  \textgreater100 SIMD instructions
\end{itemize}

\includegraphics{images/performance/image-25.png}

\paragraph{NEON Registers}\label{neon-registers}

are 16 \(\times\) 128bit. \textbf{Q}-Registers are 128 bits \&
\textbf{D}-Registers are 64 bits and are mapped to the same Flip-Flops
(analogy C/C++ \texttt{union}). Vector Floating Point (VFP)
\textbf{S}-registers use Q0-7/D0-15

\begin{center}
\includegraphics[width=8cm,height=\textheight]{images/performance/image-26.png}
\end{center}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Optimization \emph{Loop Unrolling}}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\emph{von Livio Stadelmann Zusammenfassung} :)

Ist eine Compiler-Optimierungstechnik, um die Leistung zu verbessern.
Dabei werden Schleifen aufgetrennt und als mehrere aufeinander folgende
Schritte aufgeführt, um die Ausführungszeit zu reduzieren. Somit können
die Operationen parallel im SIMD durgeführt werden.

\textbf{Achtung}: Durch das Unrolling wird mehr Speicher benötigt, was
zu erhöhtem Risiko von Cache-Miss führen kann.

\end{tcolorbox}

\subsection{Graphics Processing Unit
(GPU)}\label{graphics-processing-unit-gpu}

GPUs are used to calculate mathematical \emph{recipes}, meaning they can
do calculations on repeat really well. Operations such as Additions,
Multiplications, Transformations, Comparisons, etc. can be done. An
example would be the calculation of graphics for computer games or
rendering of movies and models.

The high count of cores (12 Quad Processing Units) and the ability for
parallelization makes a GPU suitable for performing many similar
calculations. Essentially a calculation recipe is given to the GPU,
which applies it to data.

\subsubsection{Open Graphics Library
(OpenGL)}\label{open-graphics-library-opengl}

\includegraphics{images/performance/image-27.png}

\emph{OpenGL} is a cross-language, cross-platform application
programming interface (API) for rendering 2D and 3D vector graphics. The
API is typically used to interact with a graphics processing unit (GPU),
to achieve hardware-accelerated rendering, but can also be implemented
on a CPU.

The Raspberry Pi GPU supports OpenGL ES 1.1 and ES 2.0 standards.

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
\item[\textbf{Vertex Processing}:] Vertices define position and shape of an object in 3D space
\item[\textbf{Rasterization}:] Converts the 3D space to a (2D) pixel space through analysing the pixel space
\item[\textbf{Fragment Processing}:] Series of Operations such as texturing, colouring and blending
\item[\textbf{Fragment Processing}:] Fragments are combined to render a 3D object onto a 2D screen.
\end{description}}

\subsubsection{Modern GPU Hardware}\label{modern-gpu-hardware}

Now comes the question: how can a GPU handle a 1080p, 4 \(\times\)
multi-sampled with 32 bits of colour and depth data of \textasciitilde60
MB of data, 60fps (2.5 GB/s)?

Through a hierarchy of caches, large and fast DRAM and various
specialized DSPs!

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{VD3: RPi 3 Video Core GPU}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\includegraphics{images/performance/image-28.png}

\end{tcolorbox}

\subsubsection{Quad Processor Unit (QPU)}\label{quad-processor-unit-qpu}

\includegraphics{images/performance/image-30.png}

\includegraphics{images/performance/image-29.png}

\subsection{Direct Memory Access (DMA)
Coprocessor}\label{direct-memory-access-dma-coprocessor}

Coprocessor to efficiently move data between memories and/or peripherals
independent of the main CPU.

\includegraphics{images/performance/image-13.png}

\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
\item[\textbf{\texttt(a)}] Memory to Interface
\item[\textbf{\texttt(b)}] Interface to Memory
\item[\textbf{\texttt(c)}] Memory to Memory
\end{description}

\subsubsection{Internal \& External DMA
Controller}\label{internal-external-dma-controller}

\textbf{Internal} (e.g.~STM32 Microcontrollers)

\includegraphics{images/performance/image-14.png}

\textbf{External} (e.g.~BCM2835 \(\rightarrow\) Raspi)

\includegraphics{images/performance/image-16.png}

\subsubsection{Block Diagramm}\label{block-diagramm}

\includegraphics{images/performance/image-15.png}

\includegraphics{images/performance/image-31.png}

\subsubsection{Raspberry Pi BCM2835 DMA}\label{raspberry-pi-bcm2835-dma}

\begin{itemize}
\tightlist
\item
  block-to-block memory transfers and simple peripherals
\item
  must use the \textbf{Physical} (hardware) \textbf{addresses} of the
  peripherals
\item
  read only \textbf{prefetch} mode to LOAD \textbf{into} the \textbf{L2
  cache} in anticipation of its later use
\item
  \textbf{16 DMA channels}
\item
  Each DMA channel loads a \textbf{Control Block (CB) data structure}
  from memory
\item
  A \textbf{linked list of Control Blocks} allows to execute a sequence
  of DMA operations without software intervention
\item
  onto one of the 3 system busses
\item
  bandwidth can be controlled by the bus-arbiter settings
\item
  supports \textbf{AXI read bursts} to ensure efficient SDRAM use
\item
  Paced by the peripheral \textbf{Data Request (DREQ) signal}
\item
  \textbf{Panic signal} to indicate imminent danger of \textbf{FIFO}
  underflow or overflow (sets the AXI apriority level)
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{DMA Control Block}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\includegraphics{images/performance/image-32.png}

\end{tcolorbox}

\subsection{Reduced Instruction Set Computer
(RISC-V)}\label{reduced-instruction-set-computer-risc-v}

\subsubsection{RISC}\label{risc}

\includegraphics{images/performance/image-10.png}

\begin{itemize}
\tightlist
\item
  All instructions have the same size
\item
  One instruction per clock cycle
\item
  Load/Store architecture
\item
  Harvard architecture (instruction + data bus interfaces)
\item
  Many multi purpose register
\item
  Small simple core, big caches
\end{itemize}

\subsubsection{RISC - V}\label{risc---v}

\begin{itemize}
\tightlist
\item
  A high-quality, license-free, royalty-free RISC ISA (Instruction Set
  Architecture)
\item
  Modular ISA:

  \begin{itemize}
  \tightlist
  \item
    Small base RV32I (RV64I) \textbf{I}=Integer, \textless50
    instructions (x86-ISA 1338 instr. (2015) vs.~80 instr. (1978))
  \item
    Suits all sizes of processor, from smallest microcontroller to
    largest supercomputer
  \end{itemize}
\item
  \textbf{Standard Instruction Extensions}

  \begin{itemize}
  \tightlist
  \item
    RV32I+\textbf{C}: \textbf{c}ompressed \ul{16-bit} instructions
  \item
    \textbf{M}=Integer multiply/divide
  \item
    \textbf{A}=Atomic memory operations;
    \textbf{F/D/Q}=Single/Double/Quad-precision floating-point;
    V=Vector\ldots{}
  \end{itemize}
\end{itemize}

\subsubsection{Register File}\label{register-file}

\includegraphics{images/performance/image-2.png}

\begin{itemize}
\tightlist
\item
  \textbf{PC} Program Counter outside register file
\end{itemize}

\subsubsection{Integer operations}\label{integer-operations}

\includegraphics{images/performance/image.png}

\begin{itemize}
\tightlist
\item
  47 \({\times}\) fixed-width instructions (32-bit,
  bit{[}1-0{]}=\texttt{11}) + 2 illegal (all \texttt{0}/\texttt{1})
\item
  3 \({\times}\) 5-bit register addresses in fixed locations (read
  parallel to I-decode)
\item
  5 instruction formats:

  \begin{itemize}
  \tightlist
  \item
    \textbf{R}: Register-register operations
  \item
    \textbf{I/U}: short-lower/long-upper Immediate
  \item
    \textbf{S}: Store operation
  \item
    \textbf{B}: conditional Branches (S with rotated immediate)
  \item
    \textbf{J}: unconditional Jumps (U with rotated immediate)
  \end{itemize}
\item
  I+U together give one 32b constant in any register (also relative in
  PC)
\item
  Immediate fields are always sign-extended
\end{itemize}

\subsubsection{ALU}\label{alu}

The ALU of the RISC-V architecture has \textbf{NO FLAGS} (C,O,N;Z)

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{64-Bit Zahl rechnen}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\(R=A+B\) 64-bit Addition ohne Carry (A in \texttt{a3}, \texttt{a2}; B
in \texttt{a5}, a4; R in \texttt{a1}, \texttt{a0}):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{add a0,a2,a4  \# a0=a2+a4}
\NormalTok{sltu a2,a0,a2 \# a0\textless{}a2? a2=1:a2=0, calculate carry in a2}
\NormalTok{add a5,a3,a5  \# a5=a5+a3}
\NormalTok{add a1,a2,a5  \# add carry, a1=a2+a5}
\end{Highlighting}
\end{Shaded}

\end{tcolorbox}

\texttt{csr} Status and Control Register are 64-bit counter for system
ticks, excecuted instructions, productive clock cycles

\subsubsection{\texorpdfstring{\texttt{+C} Compressed / 16-Bit
Operations}{+C Compressed / 16-Bit Operations}}\label{c-compressed-16-bit-operations}

\includegraphics{images/performance/image-1.png}

{\footnotesize 16b decoder is ~700 gates (presentation) / 400-8000 gates of the smallest RV32 (book)}

\begin{itemize}
\tightlist
\item
  CIW, CL, CS, CA, CB: rx' = a0-a5, sp, ra for integers (= s1-s5 for
  floats)
\item
  Each 16-bit instruction maps to exactly one 32-bit instruction
  =\textgreater{} programmer/compiler does not need to know
\item
  32-bit instructions can be 16-bit aligned
\item
  50-60\% instructions can be compressed =\textgreater{} 25-30\% smaller
  code size
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-note-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Illegal Instructions}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-note-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

Following instructions are illegal:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#CIW 0...0}
\DecValTok{0000} \DecValTok{0000} \DecValTok{0000} \DecValTok{0000}
\CommentTok{\#CIW 1...1}
\DecValTok{1111} \DecValTok{1111} \DecValTok{1111} \DecValTok{1111}
\end{Highlighting}
\end{Shaded}

\end{tcolorbox}

\subsubsection{Code Density \&
Performance}\label{code-density-performance}

\includegraphics{images/performance/image-3.png}

\includegraphics{images/performance/image-4.png}

\subsubsection{ARM vs RISC-V}\label{arm-vs-risc-v}

\textbf{ARM}
{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] Industry standard, Dense machine code, Large tool base, Large IP base, Barrel shifter in front of ALU, PC in register file, Many address modes, Hard cores on all major technologies, Lots of Tools (e.g. compilers)
  \item[\color{BrickRed}\faMinus] Really expensive (royalties), Large area, Complex design, Complex to understand, Lots of patents
\end{description}}

\textbf{RISC-V}
{\footnotesize\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=8pt]
  \item[\color{OliveGreen}\faPlus] Open ISA, Simple HW design, Simple to understand, Small area, Large register file (31*32-bit), Cheap (no royalties), User extendable, No royalties
  \item[\color{BrickRed}\faMinus] HW hard to compile, Code density
\end{description}}

\subsubsection{ARM}\label{arm}

\includegraphics{images/performance/image-11.png}

\includegraphics{images/performance/image-12.png}

{\footnotesize 32 Bit, nach aussen von Neumann}
{\small\begin{description}[style=sameline,parsep=0mm,labelsep=4pt]
  \item[Reg] Register = Speicher (FlipFlop, RAM)
  \item[PC] Programm Counter
  \item[ALU] Arithmetic Logic Unit
  \item[APSR] Condition Code Register
  \item[SP] Stack Pointer (Stapelspeicher für Kontext und Parameter)
  \item[LR] Link Register
\end{description}
}

\newpage

\section{Safety}\label{safety}

\subsection{Terms}\label{terms}

\begin{description}
\tightlist
\item[Hazard]
A hazard is a situation in which there is actual or potential danger to
people or the environment.
\item[Accident]
An accident is an unintended event harming people or the environment.
\item[Incident]
An incident (or near miss) is an unintended event which does not harm,
but has the potential to do so.
\item[Risk]
To each hazard, the risk describes the likelihood of occurrence and the
likely consequences.
\item[Fault]
A fault is a defect within the system. Faults can be categorized into
random faults and systematic faults.
\item[Error]
An error is a deviation from the required operation of the system or
subsystem.
\item[System Failure]
A system failure occurs when the system fails to perform its required
function.
\item[Causalities]
The presence of a fault may lead to an error, which may lead to a system
failure, which may lead to an accident.
\end{description}

\subsection{Requirements}\label{requirements}

\includegraphics{images/safety/image-29.png}

\includegraphics{images/safety/image-30.png}

\subsection{V\&V\&C}\label{vvc}

\begin{description}
\tightlist
\item[Verification]
Verification is the process of determining that a system, or module,
meets its specification.
\item[Validation]
Validation it the process of determining that a system is appropriate
for its purpose.
\item[Certification]
Certification it the process of convincing a regulatory bodies about a
systems properties.
\end{description}

\subsection{Computers in Safety Related
Systems?}\label{computers-in-safety-related-systems}

\includegraphics{images/safety/image-32.png}

\includegraphics{images/safety/image-33.png}

\subsection{Silver Bullet}\label{silver-bullet}

There is good evidence that better processes lead to programs with fewer
defect. Some numbers in relation to the CMM (Capability Maturity Model)
level defined by Software Engineering Institute (SEI) according to:

\begin{center}
\includegraphics[width=\textwidth,height=4cm]{images/safety/image-31.png}
\end{center}

Brooks argues that \textbf{``there is no single development, in either
technology or management technique, which by itself promises even one
order of magnitude {[}tenfold{]} improvement within a decade in
productivity, in reliability, in simplicity.''} He also states that
\textbf{``we cannot expect ever to see two-fold gains every two years''}
in software development, as there is in hardware development (Moore's
law).

\subsection{Hazard Analysis}\label{hazard-analysis}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{How to
identify the ways in which a system can cause harm?}

\subsubsection{FMEA: Failure mode and effects
analysis}\label{fmea-failure-mode-and-effects-analysis}

Consider the failure of any component within a system and track the
effects of this failure to determine its ultimate consequences.

\subsubsection{HAZOP: Hazard and operability
studies}\label{hazop-hazard-and-operability-studies}

Use a series of 'guide words' to investigate the effects of deviations
from normal operating conditions.

\includegraphics{images/safety/image.png}

\subsubsection{ETA: Event tree analysis}\label{eta-event-tree-analysis}

Take the events that can affect the system as starting point and track
them forward to determine their possible consequences.

\includegraphics{images/safety/image-1.png}

\subsubsection{FTA: Fault tree analysis}\label{fta-fault-tree-analysis}

Start with all identified hazards and work backwards to determine their
possible causes. (Reverse to ETA)

\includegraphics{images/safety/image-2.png}

\subsection{Risk Analysis}\label{risk-analysis}

\begin{tcolorbox}[enhanced jigsaw, rightrule=.15mm, colback=white, colframe=quarto-callout-important-color-frame, breakable, leftrule=.75mm, bottomrule=.15mm, toprule=.15mm, arc=.35mm, opacityback=0, left=2mm]
\begin{minipage}[t]{5.5mm}
\textcolor{quarto-callout-important-color}{\faExclamation}
\end{minipage}%
\begin{minipage}[t]{\textwidth - 5.5mm}

\vspace{-3mm}\textbf{Fundamental Rule}\vspace{3mm}

\[
\text{Risk} = \text{Severity} \times \text{Frequency} 
\]

\end{minipage}%
\end{tcolorbox}

\resizebox{\columnwidth}{!}{
  \input{./tikzedt/risk_overview.tikz}
}

\begin{minipage}[c][1cm][c]{.7\columnwidth}

\subsubsection{Severity}\label{severity}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{How severe
is an accident?}

\end{minipage}%
\begin{minipage}[c][1cm][c]{.3\columnwidth}
\makebox[30mm][r]{
\resizebox{!}{0.9cm}{
  \input{./tikzedt/riskover1.tikz}
}}
\end{minipage}

\includegraphics{images/safety/image-3.png}

\begin{minipage}[c][1cm][c]{.7\columnwidth}

\subsubsection{Frequency}\label{frequency}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{How
frequent does it occur?}

\end{minipage}%
\begin{minipage}[c][1cm][c]{.3\columnwidth}
\makebox[30mm][r]{
\resizebox{!}{0.9cm}{
  \input{./tikzedt/riskover2.tikz}
}}
\end{minipage}

\includegraphics{images/safety/image-4.png}

\begin{minipage}[c][1cm][c]{.7\columnwidth}

\subsubsection{Risk}\label{risk}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{What is
the risk associated?}

\end{minipage}%
\begin{minipage}[c][1cm][c]{.3\columnwidth}
\makebox[30mm][r]{
\resizebox{!}{0.9cm}{
  \input{./tikzedt/riskover3.tikz}
}}
\end{minipage}

\includegraphics{images/safety/image-5.png}

\begin{minipage}[c][1cm][c]{.7\columnwidth}

\subsubsection{Integrity}\label{integrity}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{Is the
risk acceptable?}

\end{minipage}%
\begin{minipage}[c][1cm][c]{.3\columnwidth}
\makebox[30mm][r]{
\resizebox{!}{0.9cm}{
  \input{./tikzedt/riskover4.tikz}
}}
\end{minipage}

\includegraphics{images/safety/image-6.png}

\subsubsection{Integrity Levels}\label{integrity-levels}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{What
failure rate is tolerable?}

\includegraphics{images/safety/image-7.png}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Example -- Parachute}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

{\small Hazard of free fall, severity rated as catastrophic with occasional frequency. Therefore risk is intolerable and a parachute is selected as safety feature. It works on demand mode and has to reduce the frequency by 2 orders of magnitudes, so SIL 2 is required at least.}

\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Distinguish!}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

{\bfseries\color{Orange}Risk} is a measure of the likelihood, and the
consequences, of a hazardous event.
{\bfseries\color{Orange}Safety integrity} is a measure of the likelihood
of the safety system correctly performing its task.

\end{tcolorbox}

\begin{minipage}[c][1cm][c]{.7\columnwidth}

\subsubsection{Allocating Levels}\label{allocating-levels}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{What is
contributing?}

\end{minipage}%
\begin{minipage}[c][1cm][c]{.3\columnwidth}
\makebox[30mm][r]{
\resizebox{!}{0.9cm}{
  \input{./tikzedt/riskover5.tikz}
}}
\end{minipage}

\ul{Hardware} integrity is that part of the safety integrity relating to
dangerous \textbf{random} hardware failures.

\ul{Systematic} integrity is that part of the safety integrity relating
to dangerous \textbf{systematic} failures.

\ul{Software} integrity is that part of the safety integrity relating to
dangerous \textbf{software} failures.

\subsection{Design for Safety}\label{design-for-safety}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{General, \ul{Iterative} Design Process}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{Abstraction} Generlization \& ID of essentials
\item
  \textbf{Decomposition} Objects into smaller parts + Analysis
\item
  \textbf{Elaboration} detailing \& adding features
\item
  \textbf{Decision} identification \& selection of alternatives
\end{enumerate}

\end{tcolorbox}

\subsubsection{Types of Fault}\label{types-of-fault}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{What types
of fault may occure?}

\textHighlight{\bfseries N{\fontsize{7pt}{8pt}\selectfont{ATURE}}}

\begin{itemize}
\tightlist
\item
  Random (HW)
\item
  Systematic

  \begin{itemize}
  \tightlist
  \item
    Specification
  \item
    HW Design
  \item
    SW Design
  \end{itemize}
\end{itemize}

\textHighlight{\bfseries D{\fontsize{7pt}{8pt}\selectfont{URATION}}}

\begin{itemize}
\tightlist
\item
  Permanent -- most HW faults, design
\item
  Transient -- e.g.~\(\alpha\) particles
\item
  Intermittent -- e.g.~contacts, interference (EMC)
\end{itemize}

\textHighlight{\bfseries E{\fontsize{7pt}{8pt}\selectfont{XTEND}}}

\begin{itemize}
\tightlist
\item
  Localized -- affecting only part of the system
\item
  Global -- effects which permeate throughout the system
\end{itemize}

\subsection{Fault Tolerance}\label{fault-tolerance}

\subsubsection{Triple Modular Redundancy
(TMR)}\label{triple-modular-redundancy-tmr}

{\small\textit{Three identical moduls get fed by the same signal. A voter compares the results and produces an output corresponding to the majority view.}}

\begin{center}
\input{./tikzedt/tmr.tikz}
\end{center}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] simple
  \item[\color{OliveGreen}\faPlus] prevents from failure of a single component, i.e. \textit{single-point failure}
  \item[\color{BrickRed}\faMinus] leaves input and voter as sources for single-point failures
  \item[\color{BrickRed}\faMinus] does not prevent from systematic failures
  \item[\color{BrickRed}\faMinus] voter is dependable
\end{description}}

\subsubsection{Voter}\label{voter}

{\small\textit{To make voting unit reliable, keep it as simple as possible.}}

\begin{center}
\input{./tikzedt/voter.tikz}
\end{center}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] simple, low complexity
  \item[\color{OliveGreen}\faPlus] high reliability
  \item[\color{BrickRed}\faMinus] no indication in case of discrepancies
\end{description}}

\subsubsection{TMR with triple voting}\label{tmr-with-triple-voting}

{\small\textit{Use triple input signals and triple voting instances.}}

\begin{center}
\input{./tikzedt/tmr_triplevote.tikz}
\end{center}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] \textbf{all} outputs are correct in case a single module fails
  \item[\color{BrickRed}\faMinus] more components required
  \item[\color{BrickRed}\faMinus] no protection against simultaneous failure of two or more modules
  \item[\color{BrickRed}\faMinus] does not prevent from systematic failures
\end{description}}

\subsubsection{Multistage TMR}\label{multistage-tmr}

{\small\textit{Cascading TMRs with triple voters can deal with failed voting unit.}}

\resizebox{\columnwidth}{!}{
\input{./tikzedt/multistage_tmr.tikz}}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] allows a single module to fail at each level
  \item[\color{OliveGreen}\faPlus] allows a single voter to fail at each level
  \item[\color{BrickRed}\faMinus] no protection against simultaneous failure of two or more units at same level
  \item[\color{BrickRed}\faMinus] does not prevent from systematic failure
\end{description}}

\subsubsection{\texorpdfstring{NMR - \(N\) Modular
Redundancy}{NMR - N Modular Redundancy}}\label{nmr---n-modular-redundancy}

{\small\textit{Use a large (odd) number of modules to increase ability to withstand failures.}}

\begin{center}
\input{./tikzedt/nmr.tikz}
\end{center}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] allows  $\sfrac{(N-1)}{2}$ modules to fail
  \item[\color{BrickRed}\faMinus] higher complexity of voter
  \item[\color{BrickRed}\faMinus] higher cost, size, power consumption
\end{description}}

\subsubsection{Dynamic Redundancy}\label{dynamic-redundancy}

{\small\textit{While no fault is detected, one module drives the output. In case of a fault, a switch reconfigures the system such that the output is taken from a ’standby spare’ module.}}

\begin{center}
\input{./tikzedt/dynamicred.tikz}
\end{center}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] allows one modules to fail
  \item[\color{OliveGreen}\faPlus] gives indication of fault
  \item[\color{BrickRed}\faMinus] fault detector required (single-point failure!)
  \item[\color{Orange}\bfseries ±] either \textit{hot standby} or \textit{cold standby} possible
  \item[\color{Orange}\bfseries ±] can be extended to $N$ modules
\end{description}}

\subsubsection{Self Checking Pair}\label{self-checking-pair}

{\small\textit{The output of two identical modules are compared to give an indication of failure.}}

\begin{center}
\input{./tikzedt/self_check_pair.tikz}
\end{center}

{\small\begin{description}[parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\color{OliveGreen}\faPlus] simple, reliable
  \item[\color{OliveGreen}\faPlus] gives indication of fault
  \item[\color{BrickRed}\faMinus] no redundancy
\end{description}}

\subsubsection{Redundancy Combining}\label{redundancy-combining}

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\textHighlight{\bfseries S{\fontsize{6.5pt}{7pt}\selectfont{TATIC}}}] Voting to produce \textit{fault masking} at the cost of large amount of redundancy.
  \item[\textHighlight{\bfseries D{\fontsize{6.5pt}{7pt}\selectfont{YNAMIC}}}] Fault detection and some form of switching, but \textbf{do not} mask faults.
  \item[\textHighlight{\bfseries H{\fontsize{6.5pt}{7pt}\selectfont{YBRID}}}] Combination of voting, fault detection and module switching $\rightarrow$ Most reduced down to \textit{N-modular redundancy with spares}.
\end{description}}

\subsubsection{Software Faults}\label{software-faults}

{\small\textit{Software faults are systematic by nature, duplicating the systems gives therefore no protection from faults.}}

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\textHighlight{\bfseries $\mathbf{N}$-Version Programming}] Same function gets implemented differently with the same specifications. ($N=3$ for Airbus, $N=4$ for Space Shuttle)
  \item[\textHighlight{\bfseries Recovery Blocks}] When a module fails, it induces (triggers) the execution of a secondary implementation of the same module.
\end{description}}

\subsection{Reliability}\label{reliability}

\subsubsection{\texorpdfstring{(Un)-Reliability \(R\)
(\(Q\))}{(Un)-Reliability R (Q)}}\label{un-reliability-r-q}

Reliability \(R\) is the probability of a component/system functioning
correctly over a given period of time and a given set of operating
condition.

\[
R(t)=\frac{n(t)}{N}
\]

\begin{conditions*}
  N & Amount of identical components \\
  n(t) & expected number of components operating correctly at some time $t$
\end{conditions*}

The \textbf{un}reliability \(Q\) defines how likely it is that the
system/component will break.

\[
Q(t)=\frac{n_f(t)}{N}=1-R(t)
\]

\begin{conditions*}
  n_f(t) & expected number of malfunctioning components at some time $t$.
\end{conditions*}

\subsubsection{\texorpdfstring{Failure Rate
\(z(t)\)}{Failure Rate z(t)}}\label{failure-rate-zt}

Is the rate at which a device fails. Number of devices failing within a
given period of time as a fraction of the devices still functioning.

\[
z(t)=\frac{1}{n(t)}\cdot\frac{d~n_f(t)}{dt}
\]

\subsubsection{Bathtub Curve}\label{bathtub-curve}

\begin{center}
\includegraphics[width=6cm,height=\textheight]{images/safety/image-10.png}
\end{center}

{\small\begin{description}[style=sameline,parsep=0mm,labelsep=2pt,labelwidth=10pt]
  \item[\textbf{Burn in}] high ’infant mortality’ due to manufacturing faults.
  \item[\textbf{Useful life}]  the failure rate takes in a fairly constant level $\lambda$.
  \item[\textbf{Wear out}] ageing becomes apart and the failure rate rises.
\end{description}}

\subsubsection{Useful-Life}\label{useful-life}

If the failure rate is constant, \(z(t)=\lambda\),

\[
z(t)=\lambda=\frac{1}{n(t)}\cdot\frac{d~n_f(t)}{dt}
\]

with \(n_f(t) = N - n(t)\) we get the differential equation

\[
\lambda n(t) = \frac{dN-n}{dt}=-\frac{dt}{dt}
\]

with solution for \(R(t) = \sfrac{n(t)}{N}\)

\[
R(t)=\exp(-\lambda\cdot t)
\]

\subsubsection{Time-Variant Failure
Rates}\label{time-variant-failure-rates}

For software failures, which are systematic and therefore correctable
after detection, the failure rate decreases with time. The reliability
resulting can by modelled by the \emph{Weibull} distribution:

\[
R(t)=\exp(-(\sfrac{t}{\eta})^\beta)
\]

\begin{conditions*}
  \beta & shape parameter\\
  \eta & characteristic life
\end{conditions*}

\subsection{Mean times}\label{mean-times}

\subsubsection{Mean Time to Failure}\label{mean-time-to-failure}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{What is
the expected time that a system will operate before the first failure
occures?}

\[
MTTF=\int_0^\infty R(t)~dt\rightarrow\int_0^\infty \exp(-\lambda\cdot t)~dt=\frac{1}{\lambda}
\]

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-caution-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-caution-color}{\faFire}\hspace{0.5em}{Beware!}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-caution-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

{\small A system with $\lambda=0.001$ failure/h does have a MTTF of $1000$ hour. But the reliability at t = 1000 hour is $R(t)=e^{-\lambda\cdot t}=e^{-1}\approx 0.37$. Chances that any given system runs for 1000 hour are only $\approx37\%$!}

\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Reliability vs.~MTTF}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\begin{description}
\tightlist
\item[Reliability]
a function of time, depends on the time for which the system must
operate.
\item[MTTF]
fixed characteristic that does not change with time.
\end{description}

\end{tcolorbox}

\subsubsection{Mean Time to Repair}\label{mean-time-to-repair}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{What is
the average time required to repair a system that has failed?}

\[
MTTR=\frac{1}{\mu}\qquad MTBF=MTTF + MTTR
\]

\begin{conditions*}
  MTTR & Mean time to repair\\
  MTBF & Mean time between failures
\end{conditions*}

\subsection{Failure in time}\label{failure-in-time}

\vspace{-2mm}{\color{Orchid}\faQuestionCircle[regular]} \emph{How many
failures are to be expected?}

Failure in time (FIT) is the number of failures that can be expected in
\(1\times 10^9\) h of operation.

\[
FIT = 1\times 10^9\cdot\frac{1}{MTBF}
\]

\subsection{Reliability modelling}\label{reliability-modelling}

\begin{center}
\input{./tikzedt/series.tikz}
\end{center}

\[
R(t)=R_1(t)\cdot R_2(t)\cdot\cdots\cdot R_N(t)=\prod_{i=1}^N R_i(t)
\]

\[
\lambda=\lambda_1+\lambda_2+\cdots=\sum_{i=1}^N \lambda_i
\]

\begin{center}
\input{./tikzedt/parallel.tikz}
\end{center}

\[
R(t)=1-Q(t)=1-\prod_{i=1}^N(1-R_i(t))
\]

\[
Q(t)=Q_1(t)\cdot Q_2(t)\cdots Q_N(t)=\prod_{i=1}^N Q_i(t)
\]

\subsubsection{Triple Modular
Redundancy}\label{triple-modular-redundancy}

\begin{center}
\includegraphics[width=\textwidth,height=4cm]{images/safety/image-11.png}
\end{center}

\[
\begin{split}
R_{TMR}=R_1(t)\cdot R_2(t)\cdot R_3(t) &+ (1-R_1(t))\cdot R_2(t)\cdot R_3(t)\\
                                       &+ (1-R_2(t))\cdot R_1(t)\cdot R_3(t)\\
                                       &+ (1-R_3(t))\cdot R_1(t)\cdot R_2(t)\\
\end{split}
\]

For \(R_1=R_2=R_3=R_m\): \(R(t)=3\cdot R_m^2(t)-2\cdot R_m^3(t)\)

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-important-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{N-Modular Redundancy}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-important-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

{\bfseries\color{Orange}M out of N voting}: System works correctly as
long as {\bfseries\color{Orange}less then M} modules fail.

\begin{center}
\includegraphics[width=\textwidth,height=4cm]{images/safety/image-12.png}
\end{center}

\[
R_{MtoN}(t)=\sum_{i=0}^{N-M}\frac{N!}{(N-i)!\cdot i!}\cdot R_m^{N-i}(t)\cdot (1-R_m(t))^i
\]

\end{tcolorbox}

\subsubsection{Dynamic Redundancy}\label{dynamic-redundancy-1}

\begin{center}
\includegraphics[width=\textwidth,height=3cm]{images/safety/image-13.png}
\end{center}

\[
\begin{split}
R(t)&=R_1(t)+(1-R_1(t))\cdot C_1\cdot R_2(t)\\
    &=R_m(t)+(1-R_m(t))\cdot C_m\cdot R_m(t)
\end{split}
\]

\begin{conditions*}
  R_n & Module Probabilities\\
  C_n & Fault Coverage
\end{conditions*}

\subsubsection{Cut and Tie Sets}\label{cut-and-tie-sets}

\includegraphics{images/safety/image-14.png}

\begin{conditions*}
  {\color{Orange}\rightsquigarrow\textbf{ cut}} & sets of simultaneous failures leading to a system failure\\
  {\color{OliveGreen}\rightsquigarrow\textbf{ tie}} & sets of working modules guaranteeing a working system
\end{conditions*}

\[
1-\sum_{j=1}^{\textcolor{Orange}{\mathbf{N_C}}}\prod_{i=1}^{n_j}(1-R_i(t))\leq R(t) \leq \sum_{j=1}^{\textcolor{OliveGreen}{\mathbf{N_T}}}\prod_{i=1}^{n_j}(1-R_i(t))
\]

\subsection{Reliability prediction}\label{reliability-prediction}

\subsubsection{Resistor (DoD MIL-Handbook
217)}\label{resistor-dod-mil-handbook-217}

\[
\lambda_p = \lambda_b\cdot\pi_R\cdot\pi_Q\cdot\pi_E\quad[\text{failure}/1\times10^6\text{h}]
\]

\begin{conditions*}
  \lambda_b & Base rate, temperature ($0.7\times10^{-3}\ldots 6.5\times 10^{-3}$)\\
  \pi_R     & Resistance range ($1.0\ldots 2.5$)\\
  \pi_Q     & Quality of manufacturing ($0.03\ldots 15$)\\
  \pi_E     & Environment ($1\ldots 490$)\\
  \lambda_p & Per part ($0.21\times10^{-3}\ldots 119.4$)
\end{conditions*}

\subsubsection{Capacitor (DoD MIL-Handbook
217)}\label{capacitor-dod-mil-handbook-217}

\[
\lambda_p = (C_1\cdot\pi_T+C_2\cdot\pi_E)\cdot\pi_Q\cdot\pi_L\quad[\text{failure}/1\times10^6\text{h}]
\]

\begin{conditions*}
  C_1   & Die complexity\\
  C_2   & Packaging\\
  \pi_T & Ambient temperature\\
  \pi_E & Environment\\
  \pi_Q & Quality\\
  \pi_L & Learning (production)
\end{conditions*}

\subsubsection{Prediction of software
reliability}\label{prediction-of-software-reliability}

\textbf{Task}: estimate the number of faults within a given piece of
software.

\includegraphics{images/safety/image-15.png}

\includegraphics{images/safety/image-16.png}

\subsection{Reliability assessment}\label{reliability-assessment}

\textbf{Task}: demonstrate that a system meets its reliability
requirement.

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-tip-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{How to\ldots{}}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-tip-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

\ldots{} proof that a system fails less then once in \(1\times 10^{9}\)
hour (i.e. \(\approx 100 000\) year) of operation?

{\textcolor{OliveGreen}{Trust the development techniques}}.

\end{tcolorbox}

\subsection{Software - Formal Methods}\label{software---formal-methods}

\includegraphics{images/safety/image-17.png}

\subsubsection{Spark}\label{spark}

\includegraphics{images/safety/image-19.png}

\includegraphics{images/safety/image-18.png}

\phantomsection\label{annotated-cell-43}%
\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{procedure} \DecValTok{Increment}\NormalTok{ (X }\OtherTok{:} \KeywordTok{in} \KeywordTok{out} \DataTypeTok{Integer}\NormalTok{)}
\KeywordTok{with}
\NormalTok{    Global =\textgreater{} }\KeywordTok{null}\NormalTok{, }\hspace*{\fill}\NormalTok{\circled{1}}
\NormalTok{    Depends =\textgreater{} (X }\OtherTok{=\textgreater{}}\NormalTok{ X), }\hspace*{\fill}\NormalTok{\circled{2}}
\NormalTok{    Pre =\textgreater{} X \textless{} Integer\textquotesingle{}Last, }\hspace*{\fill}\NormalTok{\circled{3}}
\NormalTok{    Post =\textgreater{} X = X\textquotesingle{}Old + 1 }\hspace*{\fill}\NormalTok{\circled{4}}
  \ControlFlowTok{is}
  \KeywordTok{begin}
\NormalTok{    X }\OtherTok{:=}\NormalTok{ X }\OtherTok{+} \DecValTok{1}\NormalTok{;}
  \KeywordTok{end Increment;}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
\textbf{Global}: does not read or write any global variables
\item[\circled{2}]
\textbf{Dependance}: Value of \textbf{X} after call depends on the
(previous) value of \textbf{X}
\item[\circled{3}]
\textbf{Condition}: \texttt{Increment} only callable if
\(X \leq \text{max value}\)
\item[\circled{4}]
\textbf{Conformance}: Check if the function does actually produce the
desired result.
\end{description}

\begin{tcolorbox}[enhanced jigsaw, coltitle=black, toprule=.15mm, colframe=quarto-callout-caution-color-frame, breakable, titlerule=0mm, title=\textcolor{quarto-callout-caution-color}{\faFire}\hspace{0.5em}{Vorsicht}, toptitle=1mm, colback=white, leftrule=.75mm, bottomtitle=1mm, colbacktitle=quarto-callout-caution-color!10!white, left=2mm, bottomrule=.15mm, rightrule=.15mm, arc=.35mm, opacityback=0, opacitybacktitle=0.6]

This check is done by \emph{Spark}, \textbf{NOT} \emph{Ada}.

These properties are not only declared, but these are \textbf{proved} by
a dedicated proof-engine \texttt{GNATprove}!

\end{tcolorbox}

\subsection{Hardware - Safety
Processors}\label{hardware---safety-processors}

\subsubsection{Hercules RM42 MCU}\label{hercules-rm42-mcu}

\includegraphics{images/safety/image-21.png}

\includegraphics{images/safety/image-20.png}

\includegraphics{images/safety/image-22.png}

\subsubsection{Dual CPU}\label{dual-cpu}

\includegraphics{images/safety/image-26.png}

\includegraphics{images/safety/image-23.png}

\subsubsection{Memory}\label{memory}

\includegraphics{images/safety/image-25.png}

\includegraphics{images/safety/image-24.png}

\subsubsection{Watchdog}\label{watchdog}

\includegraphics{images/safety/image-27.png}

\includegraphics{images/safety/image-28.png}

\newpage

\section{Trends - Low Power}\label{trends---low-power}

\begin{center}
\includegraphics[width=7cm,height=\textheight]{images/trends_meme.jpg}
\end{center}

\subsection{Firm-/Software
Optimierungen}\label{firm-software-optimierungen}

\begin{itemize}
\tightlist
\item
  \texttt{float} \& \texttt{double} vermeiden \(\rightarrow\) sehr
  Rechenintensiv bei Systemen ohne FPU (und auch sonst)
\item
  Divisionen sind rechenintensiv, ausser durch Zweierpotenzen
  \(2,4,8,16,...\), wo Bitshifting gemacht wird.
\item
  Optimierungen einschalten beim Kompilieren :-)
\end{itemize}

\newpage

\section{Anhang}\label{anhang}

\subsection{Crypto}\label{crypto-1}

\subsubsection{Permutation Tabellen}\label{permutation-tabellen}

\begin{center}
\includegraphics{images/crypto/permutation tables.pdf}
\end{center}

\section{Bild von Spaghetti}\label{bild-von-spaghetti}

\includegraphics{images/s6_advanced_system_design/Easyspaghettiwithtomatosauce_11715_DDMFS_1x2_2425-c67720e4ea884f22a852f0bb84a87a80.jpg}

\footnotesize I'm tired

\end{multicols*}



\end{document}
